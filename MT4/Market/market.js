window.errorsConsole=function(){function a(a){var b="";void 0!==a&&("object"===typeof a&&"error"in a&&a.error&&(a=a.error),"string"!==typeof a&&(a.name?b=a.name.replace("Error",""):a instanceof EvalError?b="Eval":a instanceof RangeError?b="Range":a instanceof ReferenceError?b="Reference":a instanceof SyntaxError?b="Syntax":a instanceof URIError?b="URI":a.type?(b=a.type.charAt(0).toUpperCase()+a.type.slice(1),b=b.replace("Error","")):a.message&&(b=a.message,b=b.replace(/("|'|\||&|\.|,|\(|\)|%)/gi,
""),b=b.replace("Error",""),30<b.length&&(b=b.substring(0,29),a=b.lastIndexOf(" "),0<a&&(b=b.substring(0,a))))));external&&"Exception"in external&&external.Exception(b)}function b(b,q){setTimeout(function(){if(k){var l="";void 0===b?l="undefined error":"object"===typeof b?"stack"in b&&b.stack?("message"in b&&b.message&&(l+=b.message+"\r\n"),l+=b.stack):"message"in b&&b.message?(l=b.message,"filename"in b&&b.filename&&(l+='<div class="error__item__file">'+b.filename),"lineno"in b&&b.lineno&&(l+=":"+
b.lineno),"columnNumber"in b&&b.columnNumber&&(l+=":"+b.columnNumber),l+="</div>"):l="type"in b&&b.type?b.type:b:l=b;q&&(l+=". Module: "+q);c(l)}external&&"Exception"in external&&a(b)},10)}function c(a){void 0===a&&(a="undefined error");if(a){var b=document.createElement("div");b.className="error__item";b.innerHTML="object"==typeof a&&"stack"in a&&a.stack?a.stack:a;d.parentNode||document.body.appendChild(d);d.insertBefore(b,d.firstChild);(function(a){setTimeout(function(){d.removeChild(a)},5E3)})(b)}}
function f(a){a=a||window.event;b(a);a.preventDefault&&a.preventDefault();return!0}var d=document.createElement("div"),k=!1;return{Init:function(){d.className="error";window.attachEvent?window.attachEvent("onerror",f):window.addEventListener?window.addEventListener("error",f):window.onerror=f},Add:b,Render:c,SendErrorTrack:a,Toggle:function(){k=!k}}}();errorsConsole.Init();errorsConsole.Toggle();window.addClass=function(a,b){if(!a||!b)return!1;if(a.classList)a.classList.add(b);else{var c=a.className;c=c?a.className.split(" "):[];for(var f=[],d=0,k=c.length;d<k;++d)c[d]!==b&&f.push(c[d]);f.push(b);a.className=f.join(" ")}};window.removeClass=function(a,b){if(a&&b)if(a.classList)a.classList.remove(b);else{var c=a.className;c=c?a.className.split(" "):[];for(var f=[],d=0,k=c.length;d<k;++d)c[d]!==b&&f.push(c[d]);a.className=f.join(" ")}};
window.jsonParse=function(a,b){if(!a)return null;try{return window.JSON?JSON.parse(a):eval("("+a+")")}catch(c){try{return eval("("+a+")")}catch(f){return window.errorsConsole&&window.errorsConsole.SendErrorTrack(f),{dataError:"Error processing data"+(b?" ("+b+")":"")+". Please try again later."}}}};
window.jsonStringify=function(a){if(window.JSON)return JSON.stringify(a);for(var b="[",c=0,f=a.length;c<f;c++){b+="{";for(var d in a[c])a[c].hasOwnProperty(d)&&(b+='"'+d+'": '+a[d]+", ");b+="},"}return b+"]"};window.indexOfArray=function(a,b){if(!a||!b)return-1;if("object"!==typeof a)return a.indexOf(b);for(var c=0,f=a.length;c<f;c++)if(a[c]===b)return c;return-1};
window.querySelectorAllFn=function(a,b){if(document.querySelectorAll)return a.querySelectorAll(b);var c=document.createElement("style");a=[];document.documentElement.firstChild.appendChild(c);document._qsa=[];c.styleSheet.cssText=b+"{x-qsa:expression(document._qsa && document._qsa.push(this))}";window.scrollBy(0,0);for(c.parentNode.removeChild(c);document._qsa.length;)b=document._qsa.shift(),b.style.removeAttribute("x-qsa"),a.push(b);document._qsa=null;return a};
window.formatDateInString=function(a,b){b=b||"";var c=a.getFullYear()+b;10>a.getMonth()+1&&(c+="0");c+=""+(a.getMonth()+1)+b;10>a.getDate()&&(c+="0");return c+=""+a.getDate()};window.priceToString=function(a){a=parseFloat(a,10);a=a.toFixed(2);a=a.split(".");var b=a[0];a=a[1];a=0===parseInt(a,10)?"":"."+a;1E3<=Math.abs(parseInt(b,10))&&(b=b.replace(/\B(?=(\d{3})+(?!\d))/g," "));return b+a};
window.roundDemicalPlaces=function(a,b){null===b&&(b=2);a=parseFloat(a,10);return Math.round(a*Math.pow(10,b))/Math.pow(10,b)};window.addEventListenerFn=function(a,b,c,f){a&&(a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,f?f:!1))};window.removeEventListenerFn=function(a,b,c){a&&(a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1))};
window.arrayEquals=function(a,b){if(!b||a.length!=b.length)return!1;for(var c=0,f=a.length;c<f;c++)if(a[c]instanceof Array&&b[c]instanceof Array){if(!window.arrayEquals(a[c],b[c]))return!1}else if(window.jsonStringify(a[c])!=window.jsonStringify(b[c]))return!1;return!0};window.trimFn=function(a){return a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};
window.throttle=function(a,b,c){var f,d,k,g=null,q=0;c||(c={});var l=function(){q=!1===c.leading?0:Date.now();g=null;k=a.apply(f,d);g||(f=d=null)};return function(){var B=Date.now();q||!1!==c.leading||(q=B);var y=b-(B-q);f=this;d=arguments;0>=y||y>b?(g&&(clearTimeout(g),g=null),q=B,k=a.apply(f,d),g||(f=d=null)):g||!1===c.trailing||(g=setTimeout(l,y));return k}};
window.debounce=function(a,b,c){var f;return function(){var d=this,k=arguments,g=c&&!f;clearTimeout(f);f=setTimeout(function(){f=null;c||a.apply(d,k)},b);g&&a.apply(d,k)}};window.resizeHandler=function(){function a(){clearTimeout(d);d=setTimeout(function(){for(var a=0,c=b.length;a<c;a++)try{b[a]()}catch(B){}},200)}var b=[],c=!1;try{var f=navigator.userAgent;c=-1<f.indexOf("MSIE 8")||-1<f.indexOf("Wine ")}catch(q){}var d,k=0,g=0;c&&setInterval(function(){var b=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;if(k!==b||g!==c)a(),k=b,g=c},100);window.onresize=
a;return{subscribe:function(a){b.push(a);return function(){var c=window.indexOfArray(b,a);-1!==c&&b.splice(c,1)}}}}();var topCollections=[{resKey:"top_popular_experts",categoryId:1,subtype_flags:65535,sort_field:"rating",price_filter:"all",random_count:30,go_params:["apps","rating",1]},{resKey:"top_popular_indicators",categoryId:2,subtype_flags:65535,sort_field:"rating",price_filter:"all",random_count:30,go_params:["apps","rating",2]},{resKey:"top_new_products",categoryId:-1,subtype_flags:65535,sort_field:"date_published",sort_field_value:"date_published",price_filter:"all"},{resKey:"top_popular_free",categoryId:-1,
subtype_flags:65535,sort_field:"rating",price_filter:"free",sort_field_value:"free"}],PurchaseType={DOWNLOAD_BUY:0,DOWNLOAD_DEMO:1,DOWNLOAD_FREE:2,DOWNLOAD_RENT:100};String.prototype.hashCode=function(a){a=5381;for(i=0;i<this.length;i++){var b=this.charCodeAt(i);a=(a<<5)+a+b}return a};function GetHashIdByUrl(a){return a?("i_"+a.hashCode()).replace("-","m"):"i_m00"}
var Class=function(a,b,c){if(a)if(a.className){var f=a.className.split(" "),d;var k=0;for(d=f.length;k<d;++k)if(f[k]==b){c&&(f.splice(k,1),a.className=f.join(" "));return}c||(f.push(b),a.className=f.join(" "))}else c||(a.className=b)};function removeClass(a,b){if(!a||!b)return!1;if(a.classList)a.classList.remove(b);else{for(var c=a.className.split(" "),f=[],d=0,k=c.length;d<k;++d)c[d]!==b&&f.push(c[d]);a.className=f.join(" ")}return!0}
var TrimString=function(a){return a?a.trim?a.trim():a.replace(/^\s+|\s+$/gm,""):a};function FlagsWrapper(a){0!==a&&(this.ComputerBuy=1==(a&1),this.AccountBuy=2==(a&2),this.Disabled=256==(a&256))}var isOldBrowser=function(){var a=navigator.userAgent;return 0<=a.indexOf("MSIE 8")||0<=a.indexOf("MSIE 7")||0<=a.indexOf("MSIE 6")||0<=a.indexOf("MSIE 5")?!0:!1}();
function PurchaseFlagsWrapper(a){0!==a&&(this.MarketPurchaseDemo=1==(a&1),this.MarketPurchaseDemoLocal=2==(a&2),this.MarketPurchaseFree=4==(a&4),this.MarketPurchaseFreeLocal=8==(a&8),this.MarketPurchaseRent=16==(a&16),this.MarketPurchaseRentLocal=32==(a&32),this.MarketPurchaseBuy=64==(a&64),this.MarketPurchaseBuyLocal=128==(a&128))}
function IsExpired(a){var b=new Date;return Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds(),b.getUTCMilliseconds())/1E3>(a.my_expiration_machine?a.my_expiration_machine:a.my_expiration_account)}
function IsExpiredAccount(a){var b=new Date;b=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds(),b.getUTCMilliseconds())/1E3;return a.my_expiration_account?b>a.my_expiration_account:!0}function GetMinPeriod(a){if(!a)return 0;if(!a.periods||!a.periods.length)return a.price||0;for(var b=0,c=0;c<a.periods.length;c++)a.periods[c].period>b&&(b=a.periods[c].period);return b}
function GetMaxPrice(a){if(!a)return 0;if(!a.periods||!a.periods.length)return a.price||0;for(var b=a.price||0,c=0;c<a.periods.length;c++)a.periods[c].price>b&&(b=a.periods[c].price);return b}function GetMinPrice(a){if(!a)return 0;if(!a.periods||!a.periods.length)return a.price||0;for(var b=a.price||0,c=0;c<a.periods.length;c++)a.periods[c].price<b&&(b=a.periods[c].price);return b}
function setImgesSrcAsync(a,b){for(var c=[],f=0;f<a.length;f++){var d=a[f].image,k=a[f].src;if(d){var g=GetHashIdByUrl(k);d.className=g}else{if(!a[f].imageName)continue;g=a[f].imageName}c[c.length]={url:k,id:g}}c.length&&(a=external.GetLocalPath(jsonStringify(c)),OnImagesDownloaded(a),b&&a&&a.length&&("string"==typeof a&&(a=window.jsonParse(a,12)),b(a)))}
function setImgesAvatarSrcAsync(a,b){for(var c=[],f=0;f<a.length;f++){var d=a[f].image,k=a[f].src;if(d){var g=GetHashIdByUrl(k);d.className=g}else{if(!a[f].imageName)continue;g=a[f].imageName}c[c.length]={url:k,id:g}}c.length&&(a="GetAvatarPath"in external?external.GetAvatarPath(jsonStringify(c)):external.GetLocalPath(jsonStringify(c)),OnImagesDownloaded(a),b&&a&&a.length&&("string"==typeof a&&(a=window.jsonParse(a,12)),b(a)))}
function OnImagesDownloaded(a){if(a&&a.length){if("string"==typeof a)return a=jsonParse(a,12),OnImagesDownloaded(a);for(var b=0,c=a.length;b<c;b++){var f=a[b].id,d=window.querySelectorAllFn(document,"."+f);if(d&&d.length)for(var k=a[b].path,g=0,q=d.length;g<q;g++)d[g].src=k,window.removeClass(d[g],f)}}}function parseVersionName(a){var b={major:0,minor:0};a=a.split(".");if(!a||2!=a.length)return b;b.major=parseInt(a[0],10);b.minor=parseInt(a[1],10);return b}
function GetCounterSuffix(a){var b=a%100;if(10<b&&20>b)return 3;a%=10;return 1==a?1:1<a&&5>a?2:3};var MQL5MarketLocalization={GetDefaultLanguage:function(){return"ru"==external.GetLanguage()?"ru":"en"},GetDefaultLanguageMql5:function(){return external.GetLanguageMql5()||"en"},getTranslates:function(){var a=external.GetTranslate();if(!a)return{};try{var b=jsonParse(a,1);return"string"===typeof b?{}:b}catch(c){errorsConsole.Add(c)}},Translates:{},Get:function(a){var b;a in this.Translates&&this.Translates[a]&&(b=this.Translates[a]);b||(b="["+a+"]");return b}};var MQL5MarketDataHelper=function(){function a(a){try{a=TrimString(a)+"";var b={},f=0;"GetMyProducts"in external?(b=external.GetMyProducts(a+""),f=7):(b=external.GetProductsByCategory(-1,0,1E6,"","my",a,0),f=8);return b?jsonParse(b,f):null}catch(d){errorsConsole.Add(d)}}emptyCategoryID=-1;return{GetCategories:function(a){a=external.GetCategories(a);0===a.length&&(a='{"categories":[]}');a=jsonParse(a,11);if(!a||"dataError"in a)a={categories:[]};a=a.categories;for(var b={count:0},f=0;f<a.length;f++){var d=
a[f];d&&(b["id"+d.id]=d,b.count++)}return b},GetProducts:function(a,c,f,d,k,g,q){q||0==q||(q=65535);1>a&&(a=emptyCategoryID);g=TrimString(g)+"";try{var b=external.GetProductsByCategory(parseInt(a,10),c,f,d+"",k+"",g,q||0);0===b.length&&(b='{"count":0, "products":[]}');return jsonParse(b,8)}catch(B){errorsConsole.Add(B)}},GetFavoritesProducts:function(a){try{a=TrimString(a)+"";res={};var b=0;"GetFavorities"in external?(res=external.GetFavorities(a+""),b=9):(res=external.GetProductsByCategory(-1,0,
1E6,"","favorites",a,0),b=8);return res?jsonParse(res,b):null}catch(f){errorsConsole.Add(f)}},GetMyProducts:a,GetTypes:function(){var a=external.GetTypes();return jsonParse(a,6)},GetUpdatesCount:function(){var b=a("");if(!b||!b.products||0===b.products.length)return 0;for(var c=0,f=0;f<b.products.length;f++)MQL5MarketProductController.ProductNeedUpdate(b.products[f])&&c++;return c},GetProduct:function(a){return(a=external.GetProduct(a))&&a.length&&0!==a.length?jsonParse(a,5):null},GetReviews:function(a,
c,f){a=external.GetReviews(a,c,f);return jsonParse(a,10)},GetUserLink:function(a,c,f,d){var b=f;a!=f&&(b+=" ("+a+")");return"<a href=\"javascript:external.OpenUrl('"+("https://www.mql5.com/"+c+"/users/"+a)+'\')" class="user-link" title="'+b+'">'+(d?'<i class="trusted-icon"></i>':"")+""+(f||a)+"</a>"},UTCToString:function(a,c){if(0===parseInt(a,10))return"-";var b=new Date;b.setTime(1E3*a);a=b.getDate();2>(a+"").length&&(a="0"+a);var d=b.getMonth()+1;2>(d+"").length&&(d="0"+d);a=b.getFullYear()+"."+
d+"."+a;!0===c&&(c=b.getHours(),2>(c+"").length&&(c="0"+c),b=b.getMinutes(),2>(b+"").length&&(b="0"+b),a+=" "+c+":"+b);return a},GetPaymentsSystem:function(){try{var a=external.GetPaymentsSystem();if(a)return jsonParse(a,4)}catch(c){errorsConsole.Add(c)}return{}},GetLanguage:function(){return"ru"==MQL5MarketLocalization.GetDefaultLanguageMql5()?"ru":"en"}}}();window.Paginator=function(){function a(){var a=Math.ceil((q.offsetHeight-102)/I);var b=30,c=l.offsetWidth;if(c){for(var h=Math.floor(c/b);h<v&&1<b;)b--,h=Math.floor(c/b);G=b}else G=0;m=a*G;1>m&&(m=1);A=Math.ceil(x/m)}function b(){h=[];e={};A=x=z=0;m=1;w&&(w(),w=null)}function c(a){for(var b="",c=[],h=0,v=a.length;h<v;h++){var t=a[h];if(t){if(!t.logo_path&&t.logo_url){var C=window.GetHashIdByUrl(t.logo_url);if(C=e[C])t.logo_path=C.path}t=p(t);b+=t.html;t.img&&c.push(t.img)}}c&&c.length&&setTimeout(function(){window.setImgesAvatarSrcAsync(c,
function(a){if(a)for(var b=0,c=a.length;b<c;b++){var h=a[b];e[h.id]=h}})},10);return b}function f(){var a=n(z,m);"dataError"in a?l.innerHTML='<div class="error-block">'+a.dataError+"</div>":a.items&&(h=a.items,x=a.total)}function d(a,b,c){return a='<li class="paginator__item">'+('<a class="paginator__btn '+(c?"paginator__btn_active":"")+'" href="javascript:void(false);" onclick="window.Paginator.go('+b+');">')+(a+"</a>")+"</li>"}function k(){var a="";if(1!==A){var b=Math.ceil(z/m)+1;b>A&&(b=A);var c=
Math.max(1,b-7),h=Math.min(A,b+7);1===A-h&&(h=A);if(1<c&&(a+=d(1,1),2<c)){var e=Math.ceil((c-2)/2)+1;a+=d("...",e)}for(;c<=h;c++)a+=d(c,c,c===b);h<A&&(e=Math.ceil((A-h)/2)+h,a+=d("...",e),h<A-1&&(a+=d(A,A)))}B.innerHTML=a;y.innerHTML=a}function g(){clearTimeout(E);E=setTimeout(function(){a();var b=(Math.ceil((z+1)/m)-1)*m;var e=n(b,z-b);z=b;e&&e.items&&e.items.length&&(h=e.items.concat(h),l.insertAdjacentHTML("afterbegin",c(e.items)));b=h.length;b<m&&(e=n(z+b,m-b),"dataError"in e||(b=e.items)&&b.length&&
(h=h.concat(b),l.insertAdjacentHTML("beforeend",c(b))));b=window.querySelectorAllFn(l,r);e=0;for(var v=b.length;e<v;e++)e>=m&&l.removeChild(b[e]);h=h.slice(0,m);k()},100)}var q,l,B,y,h=[],m=1,z=0,n,x=0,A=0,E,e={},p,I,v,r,G=0,w;return{init:function(e){b();"object"===typeof e&&(q=e.container,n=e.loadHandler,p=e.renderFn,I=e.itemHeight,v=e.itemWidth,r=e.itemClassName,q&&n&&(e=e.headerHTML,q.innerHTML=e?e:"",y=document.createElement("ul"),y.className="paginator paginator_top",l=document.createElement("div"),
B=document.createElement("ul"),B.className="paginator",q.appendChild(y),q.appendChild(l),q.appendChild(B),e=n(0,1),x="dataError"in e?0:e.total||0,a(),f(),l.innerHTML=c(h),k(),w=window.resizeHandler.subscribe(g)))},go:function(a){z=(a-1)*m;f();l.innerHTML=c(h);k();q.scrollTop=0},destroy:b}}();function MQL5MarketPaymentSystem(a){function b(){var a=g.Get("market_buy_agree_rules");a&&(a=a.replace("<a>",'<a href="javascript:void(false);" onclick="external.OpenUrl(\'https://www.mql5.com/'+g.GetDefaultLanguageMql5()+"/market/rules');\">"));var b=g.Get("purchase_rules_gdpr");b=b.replace("<a href={0}>",'<a href="javascript:void(false);" onclick="external.OpenUrl(\'https://www.mql5.com/'+g.GetDefaultLanguageMql5()+"/about/terms');\">");b=b.replace("<a href={1}>",'<a href="javascript:void(false);" onclick="external.OpenUrl(\'https://www.mql5.com/'+
g.GetDefaultLanguageMql5()+"/about/terms#part_12');\">");return'<div style="margin-top: 14px;"><div class="rules-admonition">'+g.Get("purchase_admonition")+"</div><p>"+a+"</p><p>"+b+"</p></div>"}function c(){var a=g.Get("market_rent_agree_rules");a&&(a=a.replace("<a>",'<a href="javascript:void(false);" onclick="external.OpenUrl(\'https://www.mql5.com/'+g.GetDefaultLanguageMql5()+"/market/rules');\">"));var b=g.Get("purchase_rules_gdpr");b=b.replace("<a href={0}>",'<a href="javascript:void(false);" onclick="external.OpenUrl(\'https://www.mql5.com/'+
g.GetDefaultLanguageMql5()+"/about/terms');\">");b=b.replace("<a href={1}>",'<a href="javascript:void(false);" onclick="external.OpenUrl(\'https://www.mql5.com/'+g.GetDefaultLanguageMql5()+"/about/terms#part_12');\">");return'<div style="margin-top: 14px;"><div class="rules-admonition">'+g.Get("purchase_admonition")+"</div><p>"+a+"</p><p>"+b+"</p></div>"}function f(a){var b="";vat&&0<vat?(b+="<div class='payments__price payments__price_padding'><span class=\"payments__price__label\">"+g.Get("p_price")+
":</span> "+window.priceToString(a.price)+" "+g.Get("p_credits")+"</div>",b+="<div class='payments__price payments__price_padding'><span class=\"payments__price__label\">"+g.Get("vat").replace("{0}",vat+"%").replace("%%","%")+":</span> "+window.priceToString(vat/100*a.price)+" "+g.Get("p_credits")+"</div>",b+="<div class='payments__price'><span class=\"payments__price__label\">"+g.Get("total")+":</span> <span class='usd'>"+window.priceToString(GetPriceWithVat(a.price))+" "+g.Get("p_credits")+"</span></div>"):
b+="<div class='payments__price'>"+g.Get("p_price")+": <span class='usd'>"+window.priceToString(a.price)+" "+g.Get("p_credits")+"</span></div>";return b}function d(a,b){var c="<div class='rentSelect'>"+g.Get("p_payment_rent_select")+"</div>";void 0==b&&(b=0);if(a.periods&&a.periods.length){c+="<ul class='payments__rent-select'>";var d=0;a=a.periods.sort(function(a,b){return b.period-a.period});for(var h=0;h<a.length;h++){var m=a[h];0!==parseInt(m.period,10)&&0<m.price&&(c+="<li><input id='period_"+
m.period+"' type='radio' "+(m.period==b||0==b&&0==d?" checked='checked'":"")+" value='"+m.period+"' name='periodbuy'>",c+="<label for='period_"+m.period+"'><span class='usd'>"+window.priceToString(GetPriceWithVat(m.price))+" "+MQL5MarketLocalization.Get("p_credits")+"<span> <span class='small-period'> &mdash; "+g.Get("p_product_period"+m.period).toLowerCase()+"</span></label>",c+="</li>",d++)}c+="</ul>"}vat&&(c+="<div>"+MQL5MarketLocalization.Get("include_vat").replace("{0}",vat)+"</div>");return c}
function k(a,b,c,d,h){var m=external.GetBalance();if("mql5"==a.name&&userLogin&&("buy"==d&&(0==m||m<b.price)||"subscribe"==d&&(0==m||m<GetMinPrice(b)))||ieOlderThan9&&"epayments"==a.name||ieOlderThan9&&"commercegate"==a.name)return"";m="<div class='paymetns__payment' id='payment_"+a.name+"'>";var f=-1==a.url_redirect.indexOf("?");f=a.url_redirect+(f?"?":"&")+"language="+encodeURIComponent(external.GetLanguage())+"&id="+b.id+"&type="+c+"&typebuy="+d+"&data="+encodeURIComponent(external.GetAuthorization())+
"&r="+Math.random(2,9999999);var n=GetHashIdByUrl(a.logo);h.push({src:a.logo,imageName:n});h="";var x=a.additional_check;"mql5"!=a.name&&(h+="if(!external.GetLogin()){ external.GetOptions();} else {");h+="MQL5MarketProduct.PurchaseLog("+b.id+",'"+a.title+"');";h+="external.Purchase(MQL5MarketProduct.GetUrlPurchase('"+f+"','"+a.name+"'),"+x+",'"+a.name+"','"+b.id+"',"+c+",'"+d+"');";h+=" MQL5MarketProduct.GrayBackground('payment_"+a.name+"'); ";"mql5"!=a.name&&(h+="}");m=m+"<a class='paymetns__img-pay' href=\"javascript:void(false);\">"+
('<img title="'+a.title+'" class="'+n+'"  onclick="');m=m+h+'" ></a>';return m+="</div>"}var g=MQL5MarketLocalization;this.getAdditionalMessageHtml=function(a,b){if(!a)return"";var c="",d;if(void 0!=a.periods||void 0!=a.old_periods){var h=0,m=0;if(void 0!=a.periods)for(d=0;d<a.periods.length;d++)0===parseFloat(a.periods[d].period)&&(m=a.periods[d].price);if(void 0!=a.old_periods)for(d=0;d<a.old_periods.length;d++)0===parseFloat(a.old_periods[d].period)&&(h=a.old_periods[d].price);0===parseFloat(h)&&
0<m?(c+="<p>"+g.Get("p_product_now_paid").replace("{0}",b.name)+"</p>",b.price=m):h!=m&&0<m&&((d=g.Get("p_product_price_change"))&&(d=d.replace("{0}",b.name).replace("{1}",window.priceToString(h)).replace("{2}",window.priceToString(m))),c+="<p>"+d+"</p>",b.price=m)}(6==a.state||8==a.state)&&void 0!=a.max_activations&&a.max_activations<=a.used_activations&&0<a.activation_increment&&((d=g.Get("p_activations_finished"))&&(d=d.replace("{0}",b.name)),c+="<p>"+d+"</p>");8==a.state&&void 0!=a.periods&&1===
a.periods.length&&0==parseFloat(a.periods[0].period)&&(c+="<p>"+g.Get("p_rent_not_available").replace("{0}",b.name)+"</p>",a.typebuy="buy");if(6==a.state&&void 0!=a.periods&&0<a.periods.length){h=!1;for(d=a.periods.length-1;0<=d;d--)if(0===parseFloat(a.periods[d].period)&&0<a.periods[d].price){h=!0;break}h||(c+="<p>"+g.Get("p_full_version_not_available").replace("{0}",b.name)+"</p>",a.typebuy="subscribe")}if(void 0!=a.periods||void 0!=a.old_periods)if(void 0!=a.periods){if(0<a.periods.length){h=!1;
for(d=a.periods.length-1;0<=d;d--)if(0!==parseFloat(a.periods[d].period))for(b=a.old_periods.length-1;0<=b;b--)if(a.old_periods[b].period==a.periods[d].period&&a.old_periods[b].price!=a.periods[d].price){h=!0;break}h&&(c+="<p>"+g.Get("p_product_price_rent_change")+"</p>")}}else c+="<p>"+g.Get("p_product_price_rent_change")+"</p>";return c};this.RenderPaymentSystem=function(g,l,B,y,h,m){var z=document.createElement("div");z.id="paymentSystemListBlock";Class(z,"product-window__message-box payments");
var n=0;for(n=m.periods.length-1;0<=n;n--)if(0==parseFloat(m.periods[n].period)){l.price=m.periods[n].price;break}var x=[],A='<div class="paymetns__payment-list" id="paymentList">';if(!("GetPaymentSystemsHtml"in external)){var E=a.GetPaymentsSystem();if(!E||!E.payment_methods||0>=E.count)return;for(n=0;n<E.payment_methods.length;n++)A+=k(E.payment_methods[n],l,B,y,x)}A+="</div>";n="<div id='paymentSystemList'>"+(this.GetProductInfo(l)+"<div class='payment__info'>");m.typebuy=y;(E=this.getAdditionalMessageHtml(m,
l))&&(n+="<div class='additional-payment-message'><div class='additional-payment-message__img'><img src='attent.png' width='20' height='20'></div><div class='additional-payment-message__text'>"+E+"</div></div>");switch(m.typebuy){case "subscribe":case "renew":n+=d(m,h)+A+c()+"<div> &nbsp;</div></div>";break;default:n+=f(l)+A+b()+"<div> &nbsp;</div></div>"}z.innerHTML=n+"</div>";g.appendChild(z);removeClass(g,"hidden");"GetPaymentSystemsHtml"in external&&external.GetPaymentSystemsHtml(l.id,parseInt(B,
10),y);setTimeout(function(){setImgesSrcAsync(x)},10)};this.DeletePaymentSystem=function(){};this.GetProductInfo=function(a){if(!a)return"";var b="<div class='product-window__header'>"+("<span class='product-window__title'>"+((a.group?a.group+" ":"")+a.name)+"</span>");var c=a.rating,d=c|0;c=10*(c-d)|0;3>c?c=0:7<c?(c=0,++d):c=5;b+="<span class='product-window__rating'><span class='product-window__rating__value product-window__rating__value_"+("v"+d+c)+"'></span></span>";d=a.category_id;7==a.platform&&
(d="magazine");8==a.platform&&(d="book");b+="<div class='product-window__category'>"+g.Get("p_category_"+d)+"</div>";return b+"</div>"};this.RenderViewCheckPassword=function(a,b,c){var d=document.createElement("div");d.id="paymentSystemListBlock";Class(d,"payments");var h="<div id='paymentSystemList'>"+this.GetProductInfo(c);h=h+"<div class='payment__info'><div class='payment__message-error' style='display:none' id='user_error'></div><div class='payment__check-pass'><div>"+("<p>"+g.Get("text_have_activations_1").replace("{0}",
c.name).replace("{2}",b.max_activations).replace("{1}",b.max_activations-b.used_activations)+"</p>");h+="<p>"+g.Get("text_have_activations_2").replace("{0}",c.name)+"</p>";""!=userLogin&&(h+="<p>"+g.Get("text_have_activations_3")+"</p>");h+="</div>";""!=userLogin&&(h+="<div class='pass-item'><div class='text-pass'>"+g.Get("enter_password")+":</div><div class='input-text'><input type='password' name='user_password' id='user_password' autocomplete='off'></div></div>");h+="<div class='pass-item' style='margin-top: 15px;'><div class='text-pass'>&nbsp;</div><div style='margin-left:155px;'><a class='button static blue' style='width:140px;' id='user_password_button' href='javascript:(function(){MQL5MarketProduct.CheckPasswordActivation("+
b.id+","+(void 0==b.period?0:b.period)+");})();'>"+g.Get("title_get_activation")+"</a></div></div>";d.innerHTML=h+"</div></div></div>";a.appendChild(d);if(a=document.getElementById("user_password"))a.onkeydown=MQL5MarketProduct.CheckKeySubmitForm}};var MQL5MarketRenderer=function(){function a(a){if(!a)return!1;a.onscroll=null;a.innerHTML=""}function b(a){var b=a|0;a=10*(a-b)|0;3>a?a=0:7<a?(a=0,++b):a=5;return"v"+b+a}function c(a,b,c,d,f,g){var h=[];var e='<table class="products-table" id="my_table" cellpadding="0" cellspacing="0"><thead><tr class="products-table__header"><th colspan="2" class="products-table__name" data-name="name">'+(MQL5MarketLocalization.Get("l_name")+("name"==a.sortOptions.field?!1===a.sortOptions.desc?"&nbsp;&darr;":"&nbsp;&uarr;":
""));e=e+'</th><th class="products-table__category" data-name="category">'+(MQL5MarketLocalization.Get("l_category")+("category"==a.sortOptions.field?!1===a.sortOptions.desc?"&nbsp;&darr;":"&nbsp;&uarr;":""));e+="</th>";g&&(e=e+'<th class="products-table__price" data-name="price">'+(MQL5MarketLocalization.Get("p_price")+",&nbsp"+MQL5MarketLocalization.Get("p_credits")+("price"==a.sortOptions.field?!1===a.sortOptions.desc?"&nbsp;&darr;":"&nbsp;&uarr;":"")),e+="</th>");d&&(e=e+'<th class="products-table__date" data-name="date">'+
(MQL5MarketLocalization.Get("p_date_buy")+("date"==a.sortOptions.field?!1===a.sortOptions.desc?"&nbsp;&darr;":"&nbsp;&uarr;":"")),e+="</th>");f&&(e+='<th class="products-table__favorite-ico"></th>');e+="</tr></thead><tbody>";var m=MQL5MarketProductList.GetSelectedPlatformFilter(),x=0,v=a.length;for(x=0;x<v;x++){var r=a[x];if("favorites"!=m||MQL5MarketProductController.IsInFavorites(r.id)){e+='<tr id="';e+="product_"+r.id;MQL5MarketProductController.ProductNeedUpdate(r)&&(e+='" class="',e+="products-table__need-update");
e+='">';e+='<td class="products-table__name clickable">';e+='<div class="products-table__cell-wrapper">';e+='<span class="products-table__logo">';100>r.category_id&&(e+='<span class="products-table__mask" data-product-id="',e+=r.id,e+='"></span>');e+='<img height="40" width="40" data-product-id="';e+=r.id;e+='" data-src="';e+=r.logo_url_small;var n=GetHashIdByUrl(r.logo_url_small);e+='"  class="';e+=n;e+='">';e+="</span>";e+='<a class="products-table__link" href="javascript:void(false);" data-product-id="';
e+=r.id;e+='">';e+=(r.group&&r.group.length?r.group+" ":"")+r.name;e+="</a>";0<r.my_version_name_file.length&&100>r.category_id&&(n=parseVersionName(r.my_version_name_file),e+='<span class="version-index">',e+="&nbsp;"+n.major+"."+n.minor,e+="</span>");1==r.my_purchase_type&&(e+='<span class="demo-index">',e+="&nbsp;"+MQL5MarketLocalization.Get("p_is_demo"),e+="</span>");100==r.my_purchase_type&&(n=new PurchaseFlagsWrapper(r.purchase_flags),n.MarketPurchaseBuyLocal||n.MarketPurchaseFreeLocal||(n=
IsExpired(r),e+='<span class="',e+="demo-index"+(n?" demo-index_expired":""),e+='" title="',e+=n?MQL5MarketLocalization.Get("p_is_expired"):"",e+='">',n=r.my_expiration_machine?r.my_expiration_machine:r.my_expiration_account,e+="&nbsp;"+MQL5MarketLocalization.Get("p_is_subscribe_till")+" "+MQL5MarketDataHelper.UTCToString(n,!1),e+="</span>"));e+="</div>";e+="</td>";e+='<td class="text-right">';e+=q(r);e+="</td>";e+='<td class="products-table__category">';e+='<a class="products-table__category__link" href="javascript:void(false);" title="';
e+=MQL5MarketLocalization.Get("p_find_in_navigator_title");e+='" data-product-id="';e+=r.id;e+='">';try{b&&"id"+r.category_id in b&&(e+=b["id"+r.category_id].title)}catch(w){e+="-"}e+="</a>";e+="</td>";g&&(e+='<td class="products-table__price">',e+=0<r.price?window.priceToString(r.price).toString():MQL5MarketLocalization.Get("p_is_free"),e+="</td>");d&&(e+='<td class="products-table__date" title="',n=0<r.my_date?r.my_date:r.my_date_file,n=MQL5MarketDataHelper.UTCToString(n,!1),e+=n,e+='">',e+=n,e+=
"</td>");f&&(e+='<td class="products-table__favorite-ico">',n=MQL5MarketProductController.IsInFavorites(r.id),e+='<i class="',e+=n?"in-favorites":"not-in-favorites",e+='" title="',e+=MQL5MarketLocalization.Get("p_remove_from_favorites"),e+='" data-product-id="',e+=r.id,e+='" data-infav="',e+=n?"false":"true",e+='">',e+="</i>",e+="</td>");e+="</tr>"}}c.insertAdjacentHTML("beforeend",e+"</tbody></table>");e=null;a=c.querySelectorAll?c.querySelectorAll("img"):c.getElementsByTagName("img");if(a)for(v=
a.length,x=0;x<v;x++)if(b=a[x].getAttribute("data-src"))a[x].removeAttribute("data-src"),h.push({image:a[x],src:b});setTimeout(function(){setImgesSrcAsync(h);h=[]},10)}function f(b,d,f,n){currentLoadedProducts=b;var h=MQL5MarketDataHelper.GetCategories(appsPlatform);b=[magazinesPlatform,booksPlatform];for(var m in b)if(b.hasOwnProperty(m)){platCat=MQL5MarketDataHelper.GetCategories(b[m]);for(var g in platCat)0!=g.indexOf("id")||h[g]||(h.count++,h[g]=platCat[g])}currentLoadedProducts.categories=h;
currentLoadedProducts.sortOptions={field:"",desc:!1};currentLoadedProducts.sortBy=function(b){this.sortOptions.desc=this.sortOptions.field!=b||!this.sortOptions.desc;this.sortOptions.field=b;switch(b){case "default":this.sort(function(a,b){var c=MQL5MarketProductController.ProductNeedUpdate(a)-MQL5MarketProductController.ProductNeedUpdate(b);return 0!=c?c*(currentLoadedProducts.sortOptions.desc?-1:1):(0<a.my_date?a.my_date:a.my_date_file)-(0<b.my_date?b.my_date:b.my_date_file)});break;case "name":this.sort(function(a,
b){var c=MQL5MarketProductController.ProductNeedUpdate(a)-MQL5MarketProductController.ProductNeedUpdate(b);return 0!=c?c*(currentLoadedProducts.sortOptions.desc?-1:1):a.group==b.group&&a.name==b.name?0:a.group&&b.group?a.group==b.group?a.name<b.name?-1:1:a.group<b.group?-1:1:(a.group||a.name)<(b.group||b.name)?-1:1});break;case "price":this.sort(function(a,b){var c=MQL5MarketProductController.ProductNeedUpdate(a)-MQL5MarketProductController.ProductNeedUpdate(b);if(0!=c)return c*(currentLoadedProducts.sortOptions.desc?
-1:1);c=a.price;var e=b.price;GetMaxPrice(b);return c==e?a.name==b.name?0:a.name<b.name?-1:1:c-e});break;case "category":this.sort(function(a,b){var c=MQL5MarketProductController.ProductNeedUpdate(a)-MQL5MarketProductController.ProductNeedUpdate(b);if(0!=c)return c*(currentLoadedProducts.sortOptions.desc?-1:1);var e=c=void 0;"id"+a.category_id in h&&"title"in h["id"+a.category_id]&&(c=h["id"+a.category_id].title);"id"+b.category_id in h&&"title"in h["id"+b.category_id]&&(e=h["id"+b.category_id].title);
return c==e?a.name==b.name?0:a.name<b.name?-1:1:c<e?-1:1});break;case "date":this.sort(function(a,b){var c=MQL5MarketProductController.ProductNeedUpdate(a)-MQL5MarketProductController.ProductNeedUpdate(b);return 0!=c?c*(currentLoadedProducts.sortOptions.desc?-1:1):(0<a.my_date?a.my_date:a.my_date_file)-(0<b.my_date?b.my_date:b.my_date_file)})}this.sortOptions.desc||this.reverse();a(MainProductsContainer);GlobalCounter=setTimeout(function(){c(currentLoadedProducts,currentLoadedProducts.categories,
MainProductsContainer,d,f,n)},0)};currentLoadedProducts.sortOptions.desc=!0;currentLoadedProducts.sortOptions.field="default";currentLoadedProducts.sortBy("default")}function d(a,b,c,d,f){var h=null;if(!a||"object"!==typeof a)return{html:"",img:h};var n=a.name;b&&b["id"+a.category_id]&&null!=b["id"+a.category_id]&&(n+="\r\n"+MQL5MarketLocalization.Get("l_category")+": "+b["id"+a.category_id].title);n+="\r\n"+MQL5MarketLocalization.Get("p_author")+": "+(a.author_full_name||a.author_login);b='<div class="product" title="'+
n+'" data-lang="';b+=a.language;b+='"';n=GetMaxPrice(a);c&&(b+=' onclick="MQL5MarketProduct.ShowProduct('+a.id+");"+(d?" external.CrossSell("+(f?1:0)+");":"")+'"');b+=' data-product-id="';b+=a.id;b+='">';b+='<div class="product__logo"><span class="product__logo-img"></span>';"logo_url"in a&&a.logo_url&&(a.logo_path?b+='<img width="110" height="110" title="'+a.name+'" src="'+a.logo_path+'">':(c=window.GetHashIdByUrl(a.logo_url),b+='<img width="110" height="110" title="'+a.name+'" class="'+c+'">',h=
{type:"img",imageName:c,src:a.logo_url}));b+="</div>";b+='<div class="product__details">';b+='<div class="product__name">';b+=a.name;b+="</div>";b+='<div class="product__price">';b=0<n?b+((n==(n|0)?n.toFixed(0):window.priceToString(n))+" usd"):b+'<span class="gray">FREE</span>';b+="</div>";b+="</div>";b+="</div>";return{html:b,img:h}}function k(a,b,c){if(5==appsPlatform&&(0==b.type||1==b.type)||4==appsPlatform&&(0==b.type||1==b.type)){var h=document.createElement("a");h.className="button static button_blue"+
(c?" button_little":" button_medium")+" button_90";h.href="javascript:(function(){external.StartTesting("+b.id+");})();";h.innerHTML=MQL5MarketLocalization.Get("p_test_product");a.appendChild(h)}}function g(a,b,c,d,f,g,l){var e="<a",h="",n="button button_90 ",v=null,x=.001>b.price;f=f||GetMinPeriod(b)||1;n=g?n+"button_little ":n+"button_medium ";switch(c){case "buy":n+="button_buy";h="";break;case "open":n+="button_blue";h="";break;case "demo":n+="button_blue";h="demo";break;case "free":n+="button_blue";
h="free";break;case "reinstall":n+="button_blue";h="";break;case "update":n+="button_blue";h=x?"free":"";break;case "subscribe":n+="button_orange";v=buyProtocol+"market/subscribe/"+b.id+"/"+f;break;case "update_subscribe":n+="button_buy";v=buyProtocol+"market/subscribe/"+b.id+"/"+f;break;case "renew":n+="button_buy";v=buyProtocol+"market/renew/"+b.id+"/"+f;break;case "renew_free":n+="button_blue";v=buyProtocol+"market/subscribe/"+b.id+"/"+f;break;case "reinstall_subscribe":n+="button_blue",v=buyProtocol+
"market/subscribe/"+b.id+"/"+f}e+=' id="button_'+b.id+"_"+c+"_"+f+'"';v||(v=buyProtocol+b.id+"."+encodeURIComponent(b.name)+"/"+h);isTerminal?(e=e+(' buyUrl="'+v+'"')+(' data-button-id="button_'+b.id+"_"+c+"_"+f+'"'),e+=' data-product-id="'+b.id+'"',e=e+(' data-button-type="'+c+'"')+' href="javascript:void(false);"'):e+=' href="'+v+'"';l&&(e+=' title="'+l+'"');e+=' class="button static '+n+'"';e+=">";e+=d;e+="</a>";a.insertAdjacentHTML("beforeend",e)}function q(a,b,c,d,f){if(!a)return null;b&&(b.innerHTML=
"");var h=5==appsPlatform&&(0==a.type||1==a.type)||4==appsPlatform&&(0==a.type||1==a.type),n=new FlagsWrapper(a.my_type),e=new PurchaseFlagsWrapper(a.purchase_flags),m=!0,x=!1,v=!1,r=0<userLogin.length;if(a.periods&&a.periods.length)for(var l=0;l<a.periods.length;l++){var w=a.periods[l];0!=w.period&&0<w.price&&(m=!1,v=!0);0==w.period&&0<w.price&&(x=!0,m=!1)}var z=n.Disabled,u=e.MarketPurchaseBuy,q=e.MarketPurchaseBuyLocal,y=e.MarketPurchaseFree,F=e.MarketPurchaseFreeLocal,t=e.MarketPurchaseDemoLocal,
C=e.MarketPurchaseRent,H=e.MarketPurchaseRentLocal;w=MQL5MarketProductController.ProductNeedUpdate(a);var J=IsExpired(a),D=(r||!q&&!F)&&x&&!u&&!F&&!z,B=(u||y)&&!q&&!F;x=u&&q&&w||F&&w||q&&m&&w;e=!B&&m&&!q&&!H&&!F;m=!m&&!u&&!F&&!q&&(!C&&!H||J)&&!t&&h;l=!u&&!q&&(!C&&!H||J)&&t&&h&&w;h=!q&&!H&&!F&&t&&h;var N=3600<a.my_expiration_account-a.my_expiration_machine;t=(r||!H)&&v&&!u&&!q&&!C&&!H&&!z;r=!J&&!u&&!q&&C&&H&&w;v=v&&!u&&!q&&!F&&C&&!z;z=!J&&!u&&!u&&!q&&!F&&C&&!H;q=!IsExpiredAccount(a)&&!u&&!q&&!F&&H&&
C&&N||H&&!F&&!q&&(u||y);u=document.createElement("span");u.className="buy-buttons-container";B&&!c&&(u.innerHTML+='<span class="buy-buttons-container__other">'+MQL5MarketLocalization.Get("p_file_not_found")+"</span>",g(u,a,"reinstall",MQL5MarketLocalization.Get("p_reinstall"),!1,d));z&&!c&&(u.innerHTML+='<span class="buy-buttons-container__other">'+MQL5MarketLocalization.Get("p_file_not_found_subscribe")+"</span>",g(u,a,"reinstall_subscribe",MQL5MarketLocalization.Get("p_reinstall"),!1,d));w&&!c&&
(w=parseVersionName(a.version_name),u.innerHTML+='<span class="buy-buttons-container__other">'+MQL5MarketLocalization.Get("p_version_available")+" <b>"+w.major+"."+w.minor+"</b></span>");if(D){w=a.price;if(a.periods&&a.periods.length)for(D=a.periods.length-1;0<=D;D--)if(0==parseFloat(a.periods[D].period)){w=a.periods[D].price;break}w=window.priceToString(w);g(u,a,"buy",MQL5MarketLocalization.Get("p_buy")+(f?": "+w+" "+MQL5MarketLocalization.Get("p_credits"):""),!1,d)}if(t&&!c)if(f){w=document.createElement("div");
w.className="periods-list";if(a.periods&&a.periods.length){f=0;D=[];for(f=a.periods.length-1;0<=f;f--)0!=a.periods[f].period&&0<a.periods[f].price&&(D[D.length]=a.periods[f]);D=D.sort(function(a,b){return b.period-a.period});w.insertAdjacentHTML("beforeend",'<div class="periods-header">'+MQL5MarketLocalization.Get("p_product_periods")+":</div>");if(0<D.length)for(f=0;f<D.length;f++)g(w,a,"subscribe",MQL5MarketLocalization.Get("p_product_period"+D[f].period)+": "+window.priceToString(D[f].price)+" "+
MQL5MarketLocalization.Get("p_credits"),D[f].period,d)}u.appendChild(w)}else g(u,a,"subscribe",MQL5MarketLocalization.Get("p_subscribe"),!1,d);x&&!c&&g(u,a,"update",MQL5MarketLocalization.Get("p_update"),!1,d);e&&g(u,a,"free",MQL5MarketLocalization.Get("p_download"),!1,d);m&&!c&&g(u,a,"demo",MQL5MarketLocalization.Get("p_demo"),!1,d);l&&!c&&g(u,a,"demo",MQL5MarketLocalization.Get("p_update_demo"),!1,d);h&&!c&&k(u,a,d);r&&!c&&g(u,a,"update_subscribe",MQL5MarketLocalization.Get("p_update"),!1,d);v&&
!c&&g(u,a,"renew",MQL5MarketLocalization.Get("p_renew"),!1,d);q&&!c&&g(u,a,"renew_free",MQL5MarketLocalization.Get("p_renew_free"),!1,d);n.ComputerBuy&&!c&&g(u,a,"open",MQL5MarketLocalization.Get("open"),!1,d,MQL5MarketLocalization.Get("p_find_in_navigator_title"));if(MQL5ProgressController.InProgress())for(a=u.getElementsByTagName("a"),f=0;f<a.length;f++)c=a[f],c.id&&0===c.id.indexOf("button_")&&(c.onmousedown=null,c.onmouseup=null,c.onmouseout=null,c.disabled=!0,c.setAttribute("disabled","disabled"));
if(b)b.appendChild(u);else return u.outerHTML}function l(){var a=["rating","date_published","price_asc","price_desc","free"];var b='<div class="product-container__sort"><div class="custom-select"><select title="'+window.MQL5MarketLocalization.Get("l_sort");b+='" onchange="window.MQL5MarketProductList.sortChange(event);" id="sortSelect">';for(var c=window.MQL5MarketLocalization.Get("l_sort_rating"),d=0,f=a.length;d<f;d++){var g=a[d],l=window.sortBy===g,e=window.MQL5MarketLocalization.Get("l_sort_"+
g);l&&(c=e);l=l?' selected="true"':"";b+='<option value="'+g+'"'+l+">"+e+"</option>"}return b=b+"</select>"+('<div class="custom-select__value" id="sortValue">'+c+'<i class="icons-arrow-down"></i></div>')+"</div></div>"}function B(a){if(!a||"object"!==typeof a)return!1;var b=a.id,c=a.title||"",d=a.inline;a=a.fullHeight;var f="";var h='<div class="product-container'+(a?" product-container_full-height":"")+'" name="top_container"><div class="product-container__header">';c&&(a&&(f+=" product-container__list_with-header"),
h=h+'<h3 class="product-container__title">'+c+"</h3>");h+="</div>";d&&(f+=" product-container__list_inline");a&&(f+=" product-container__list_full-height");h+='<div class="product-container__list'+f+'"';h+=(void 0!==b?' id="'+b+'"':"")+">";h+="</div>";return h+="</div>"}var y=function(){var a;return{Init:function(){clearTimeout(a);a=setTimeout(function(){recalc();MQL5MarketProductList.FitTopRight()},30)}}}();return{PrepareContainer:a,MyProducts:function(){var a=MQL5MarketDataHelper.GetMyProducts((KeywordInput&&
"value"in KeywordInput?KeywordInput.value:"")+"");a&&a.products&&f(a.products,!1,!1,userLogin?!0:!1)},FavoritesProducts:function(){var a=MQL5MarketDataHelper.GetFavoritesProducts((KeywordInput&&"value"in KeywordInput?KeywordInput.value:"")+"");a&&a.products&&f(a.products,!1,!0,!0)},RecalcPosition:y.Init,EnableProductButtons:function(){for(var a=window.querySelectorAllFn(document,".button"),b=0,c=a.length;b<c;b++){var d=a[b];d._onmousedown&&(d.onmousedown=d._onmousedown);d._onmouseup&&(d.onmouseup=
d._onmouseup);d._onmouseout&&(d.onmouseout=d._onmouseout);d._href&&(d.href=d._href);d.disabled=!1;d.removeAttribute("disabled")}},ProductWindow:function(){function a(a){var b=document.createElement("li");a._name&&b.setAttribute("data-name",a._name);b.className=a._class?"tabs-container__item "+a._class:"tabs-container__item";a._id&&b.setAttribute("id",a._id);if(a._link){var c=document.createElement("a");a._linkId&&c.setAttribute("id",a._linkId);if(a._linkIcon){var d=document.createElement("i");d.className=
a._linkIcon;c.appendChild(d)}a._linkHandler&&window.addEventListenerFn(c,"click",a._linkHandler);c.setAttribute("href","javascript:void(false);");a._linkClass&&(c.className=a._linkClass);a._linkVar?(d=document.createElement("var"),d.setAttribute("id",a._linkVar),a._linkText&&(d.innerText=a._linkText),c.appendChild(d)):a._linkText&&(c.innerText=a._linkText);b.appendChild(c)}a._nav.appendChild(b)}if(!this.productBox){var b=this.productBox=document.createElement("div");b.id="productPopup";b.className=
"product-window hidden";var c=document.createElement("div");c.className="top-bar";var d=document.createElement("ul");d.className="tabs-container__list";d.id="productSections";a({_nav:d,_link:!0,_class:"tabs-container__item_next-no-border",_linkId:"productBack",_linkHandler:function(){MQL5MarketProduct.ClosePopup()},_linkIcon:"icon-back"});a({_id:"productTabDescription",_class:"tabs-container__item_selected",_nav:d,_link:!0,_name:"description",_linkHandler:function(){MQL5MarketProduct.ShowBlock("description")},
_linkVar:"productTabDescriptionLabel"});a({_id:"productTabScreenshots",_nav:d,_link:!0,_linkText:MQL5MarketLocalization.Get("p_screenshots"),_name:"screenshots",_linkHandler:function(){MQL5MarketProduct.ShowBlock("screenshots")},_linkVar:"productTabScreenshotsLabel"});a({_id:"productTabReviews",_nav:d,_link:!0,_name:"reviews",_linkHandler:function(){MQL5MarketProduct.ShowBlock("reviews")},_linkVar:"productTabReviewsLabel"});a({_id:"productTabFavorites",_class:"tabs-container__item_favorites",_nav:d});
c.appendChild(d);d=document.createElement("div");d.setAttribute("id","topRightInfoView");d.className="top-tools";var f=document.createElement("div");f.className="top-tools__item";f.id="toolsProgress";var g=document.createElement("span");f.appendChild(g);g.setAttribute("id","downloadInfoView");d.appendChild(f);g=f=null;f=document.createElement("div");f.className="top-tools__item";f.id="toolsBalance";g=document.createElement("a");g.className="balance-viewer";f.appendChild(g);g.setAttribute("id","balanceInProduct");
d.appendChild(f);g=f=null;f=document.createElement("div");f.className="top-tools__item";f.id="toolsButtons";g=document.createElement("span");f.appendChild(g);g.setAttribute("id","productButtonsHolder");d.appendChild(f);g=f=null;c.appendChild(d);d=null;b.appendChild(c);c=document.createElement("div");c.className="product-window__content";d=document.createElement("div");d.className="product-window__wrapper";f=document.createElement("table");f.setAttribute("id","productDescription");f.setAttribute("data-name",
"description");f.className="product-window__container";g=f.insertRow(0);var l=g.insertCell(0);l.className="product-window__left-part";l.setAttribute("id","productLogoContainer");var e=document.createElement("div");e.className="product-window__logo";var p=document.createElement("img");p.setAttribute("id","productLogoImage");p.setAttribute("width","200");p.setAttribute("height","200");e.appendChild(p);p=null;l.appendChild(e);e=null;e=document.createElement("div");e.className="product-window__tools";
p=document.createElement("div");p.className="product-window__tools__item text-center";var k=document.createElement("span");k.setAttribute("id","productPrice");k.className="product-window__price";p.appendChild(k);k=null;e.appendChild(p);p=null;p=document.createElement("div");p.className="product-window__tools__item";k=document.createElement("span");k.setAttribute("id","productPeriods");k.className="product-window__periods";p.appendChild(k);k=null;e.appendChild(p);p=null;p=document.createElement("div");
p.className="product-window__tools__item vat-block";p.setAttribute("id","productVat");e.appendChild(p);p=null;p=document.createElement("div");p.className="product-window__tools__item text-center";k=document.createElement("span");k.setAttribute("id","productActivations");k.className="product-window__activations";p.appendChild(k);k=null;e.appendChild(p);p=null;p=document.createElement("div");p.className="product-window__tools__item text-center";k=document.createElement("div");k.setAttribute("id","productViewButtons");
k.className="product-window__product-buttons";p.appendChild(k);k=null;e.appendChild(p);p=null;l.appendChild(e);e=null;e=document.createElement("div");e.setAttribute("id","productInfoContainer");e.className="product-window__info-container";l.appendChild(e);e=null;e=document.createElement("div");e.className="product-window__youtube-suggest";p=document.createElement("i");p.className="youtube-suggest-icon";e.appendChild(p);p=null;p=document.createElement("div");p.className="product-window__youtube-suggest__text";
k=MQL5MarketLocalization.Get("p_youtube_suggest");k=k.replace("<a>","<a href=javascript:external.OpenUrl('"+{GetUrl:function(a){a=a||"market1";var b=MQL5MarketLocalization.GetDefaultLanguageMql5();a=this[a]||this.market1;var c=external.GetPlatform?external.GetPlatform()+"":"5";return a.replace("{lang}",b).replace("{mt}",c).replace("{mt}",c)},market1:"https://www.mql5.com/{lang}/video/playlist-how-to-make-purchases-in-the-market?utm_campaign=MetaTrader+{mt}+Terminal",market_list:"https://www.mql5.com/{lang}/video/playlist-how-to-make-purchases-in-the-market?utm_campaign=MetaTrader+{mt}+Terminal&utm_medium=special&utm_source=mt{mt}terminal+market+list",
market_product:"https://www.mql5.com/{lang}/video/playlist-how-to-make-purchases-in-the-market?utm_campaign=MetaTrader+{mt}+Terminal&utm_medium=special&utm_source=mt{mt}terminal+market+product"}.GetUrl("market_product")+"')>");p.innerHTML=k;e.appendChild(p);p=null;l.appendChild(e);e=null;g=g.insertCell(1);g.className="product-window__right-part";g.setAttribute("id","rightBlockProduct");l=document.createElement("div");l.setAttribute("id","infoInDescription");e=document.createElement("div");e.className=
"product-window__header";p=document.createElement("span");p.className="product-window__title";p.setAttribute("id","productNameInDescription");e.appendChild(p);p=null;p=document.createElement("span");p.className="product-window__rating";k=document.createElement("span");k.className="product-window__rating__value";k.setAttribute("id","productRating");p.appendChild(k);k=null;e.appendChild(p);p=null;p=document.createElement("div");p.className="product-window__category";p.setAttribute("id","productCategoryInDescription");
e.appendChild(p);p=null;l.appendChild(e);e=null;e=document.createElement("div");e.className="product-window__description";e.setAttribute("id","descriptionContent");l.appendChild(e);e=null;g.appendChild(l);g=g=l=null;d.appendChild(f);f=null;f=document.createElement("div");f.setAttribute("id","productScreenshots");f.className="product-window__screenshots";f.setAttribute("data-name","screenshots");d.appendChild(f);f=null;f=document.createElement("div");f.className="product-review__container";f.setAttribute("id",
"productReviews");f.setAttribute("data-name","reviews");d.appendChild(f);f=null;c.appendChild(d);d=null;b.appendChild(c);c=null;document.body.appendChild(b)}return this.productBox},Reviews:function(a,c){for(var d="",f=[],h=0,g=c.length;h<g;h++){var l=GetHashIdByUrl(c[h].avatar_url),e='<div class="product-review">';e+='<div class="product-review__left-part">';e+='<img width="60" height="60" class="'+l+'" src="';e+=c[h].avatar_url;e+='"/>';e+="</div>";e+='<div class="product-review__right-part">';e+=
'<div class="product-review__header">';e+='<span class="product-review__author">';e+=MQL5MarketDataHelper.GetUserLink(c[h].author_login,MQL5MarketLocalization.GetDefaultLanguageMql5(),c[h].author_full_name||c[h].author_login);e+="</span>";e+='<span class="product-review__date">';e+=MQL5MarketDataHelper.UTCToString(c[h].date_created,!0);e+="</span>";e+='<span class="product-review__rating">';e+='<span class="product-review__rating__value ';e+="product-review__rating__value_"+b(c[h].rating);e+='">';
e+="</span>";e+="</span>";e+="</div>";var k="<p>"+c[h].text.split("\n").join("</p><p>")+"</p>";e+='<div class="product-review__text">';e+=k;e+="</div>";e+="</div>";e+="</div>";d+=e;e=null;f.push({src:c[h].avatar_url,imageName:l})}a.insertAdjacentHTML("beforeend",d);0<f.length&&setTimeout(function(){setImgesAvatarSrcAsync(f);f=[]},10)},DrawProductButtonsBlock:q,GetRatingClass:b,CreateProductLargeBlock:d,renderProductContainer:function(a){if(!a||"object"!==typeof a)return!1;var b=a.currentCategory,
c=a.currentSubType;a=B({id:"singleCollection",fullHeight:!0});window.MainProductsContainer.innerHTML=a;var f=window.sortBy||"rating";currentPriceFilter="all";"free"===f&&(f="rating",currentPriceFilter="free");a=document.getElementById("singleCollection");window.Paginator.init({container:a,renderFn:function(a){return d(a)},headerHTML:l(),itemWidth:window.productWidth,itemHeight:window.productHeight,itemClassName:".product",loadHandler:function(a,d){a=window.MQL5MarketDataHelper.GetProducts(b,a,d,f,
currentPriceFilter,window.KeywordInput?window.KeywordInput.value:"",c);a.products&&(a.items=a.products,delete a.products);return a}})}}}();var MQL5MarketProductList=function(){function a(a){a=a||window.event;external.GetOptions();a.preventDefault?a.preventDefault():a.returnValue=!1;return!1}function b(a){a=a||window.event;external.OpenUrl("https://www.mql5.com/"+MQL5MarketLocalization.GetDefaultLanguageMql5()+"/users/"+userLogin+"/accounting/choosein");a.preventDefault?a.preventDefault():a.returnValue=!1;return!1}function c(){var a=document.getElementById("platformMyLabel");if(a){if(0<userLogin.length){a.innerText=MQL5MarketLocalization.Get("l_purchased");
a.title=userLogin;var b=MQL5MarketDataHelper.GetUpdatesCount();0<b&&(a.innerHTML+=" <span class='updates-count' title='"+MQL5MarketLocalization.Get("l_updates_found")+"'>"+b+"</span>")}else a.innerText=MQL5MarketLocalization.Get("l_my"),a.title="";if(!document.getElementById("refreshMyProducts")){b=document.createElement("span");var c=document.createElement("i");b.className="refresh-button";c.className="refresh-icon";b.appendChild(c);b.setAttribute("id","refreshMyProducts");window.addEventListenerFn(b,
"click",function(){MQL5MarketProductList.RefreshMyProducts()});a.parentNode.parentNode.appendChild(b)}}}function f(){return"tops"==A&&KeywordInput&&KeywordInput.value&&KeywordInput.value.length?"apps":A}function d(){Class(document.getElementById("sections"),"tabs-container__list_collection",!0);E&&(q(E.platform,E.sort,E.category),E=null)}function k(a){function b(a){a||(a={});if(c){var b=document.createElement("li"),d=document.createElement("a");d.className="tabs-container__link";b.appendChild(d);
d.setAttribute("href","javascript:void(false);");b.className=(a.selected?"tabs-container__item tabs-container__item_selected":"tabs-container__item")+(a.className?" "+a.className:"");a.handlerClick=a.handlerClick||function(){return!1};a.icon?d.innerHTML=a.icon+(a.key?a.key:""):d.innerText=a.key?a.key:"";d.id=a.linkId?a.linkId:"";b.id=a.id?a.id:"";window.addEventListenerFn(d,"click",a.handlerClick);c.appendChild(b)}}var c=document.createDocumentFragment(),e=window[f()+"_platform"]||appsPlatform;b({id:"section_tops_0",
selected:!0,handlerClick:function(){q("tops",null,"0")},key:MQL5MarketLocalization.Get("l_main")});e=MQL5MarketDataHelper.GetCategories(e);var g=2>e.count,l;for(l in e)if(e.hasOwnProperty(l)&&0==l.indexOf("id")){var v=e[l];if(v&&0!=v.count){if(!g){var k=document.createElement("option");k.value=v.id;k.innerHTML=v.title+" ("+v.count+")";a==k.value&&(k.selected=!0);h.appendChild(k)}(function(a){b({id:"section_apps_"+a.id,handlerClick:function(){q("apps",null,a.id)},key:a.title})})(v)}}a=document.getElementById("sections");
a.insertBefore(c,a.firstChild);c=document.createDocumentFragment();b({param:"tops",className:"tabs-container__item_collection",linkId:"productBack",icon:'<i class="icon-back"></i>',handlerClick:d,linkClass:"back-arrow"});b({param:"tops",className:"tabs-container__item_collection",id:"section_collection",linkId:"collectionTab"});a.appendChild(c)}function g(a){A=a;var b=document.getElementById("sections");if(b&&b.children&&b.children.length){var c=h&&"value"in h?h.value:"",d=0;for(;d<b.children.length;d++){var e=
"section_"+a+"_"+c==b.children[d].id;Class(b.children[d],"tabs-container__item_selected","section_"+a!=b.children[d].id&&!e&&"section_collection"!=b.children[d].id)}}else alert("no sections")}function q(a,b,c,d){z=null;b||(b="rating");window.sortBy=b;var e=document.getElementById("sortSelect");e&&(e.value=b);if(e=document.getElementById("sortValue"))b=window.MQL5MarketLocalization.Get("l_sort_"+b),e.innerHTML=b+'<i class="icons-arrow-down"></i>';c&&(h.value=c,h.refreshDropDown());x=d;g(a);l()}function l(){if(!MainProductsContainer)return!1;
clearTimeout(GlobalCounter);paramsChangeStarted=!0;if(y&&!(1>y.length))for(var a=0;a<y.length;a++){var b=y[a].parentElement.nextSibling;y[a].checked&&"value"in y[a]?(y[a].parentElement.className="selected","tabs_separator"==b.className&&(b.style.visibility="hidden")):(y[a].parentElement.className="","tabs_separator"==b.className&&(b.style.visibility="visible"))}a=f();MQL5MarketRenderer.PrepareContainer(MainProductsContainer);external.CancelImageDownloads();b=h.value;var c=window[f()+"_platform"]||
appsPlatform;h.innerHTML="";var d=document.createDocumentFragment(),e=document.createElement("option");e.value="0";e.innerText=MQL5MarketLocalization.Get("l_all");d.appendChild(e);c=MQL5MarketDataHelper.GetCategories(c);var g=0,l=2>c.count,m;for(m in c)if(c.hasOwnProperty(m)&&0==m.indexOf("id")){var p=c[m];if(p&&0!=p.count){if(!l){var t=document.createElement("option");t.value=p.id;t.innerText=p.title+" ("+p.count+")";b==t.value&&(t.selected=!0);d.appendChild(t)}g+=p.count}}e.appendChild(document.createTextNode(" ("+
g+")"));h.appendChild(d);h.refreshDropDown&&h.refreshDropDown();n||(k(h.value),n=!0);B();switch(a){case "my":MQL5MarketRenderer.MyProducts();paramsChangeStarted=!1;break;case "favorites":MQL5MarketRenderer.FavoritesProducts();paramsChangeStarted=!1;break;default:MQL5MarketRenderer.renderProductContainer({currentCategory:h.value,currentSubType:x})}}function B(){var a=document.getElementById("sections").clientWidth;a=ContentWidth-a;e.SetAll(!1);var b=f(),c=userLogin?150:250;if("tops"==b)a>=c&&e.balance(!0),
a>=c+180&&e.search(!0);else if(z)a>=c&&e.balance(!0),a>=c+180&&e.search(!0),z.showSort&&a>=c+180+175+210&&e.progress(!0);else if("apps"==b)a>=c&&e.balance(!0),a>=c+180&&e.search(!0),a>=c+180+175+210&&e.progress(!0);else if("all"==b)a>=c&&e.balance(!0),a>=c+180&&e.search(!0),a>=c+180+210&&e.progress(!0),a>=c+180+210+100&&e.youtube(!0);else if("my"==b||"favorites"==b)a>=c&&e.balance(!0),a>=c+180&&e.search(!0),a>=c+180+210&&e.progress(!0);e.Apply()}var y,h,m,z,n=!1,x=void 0,A="tops",E=null,e=function(){var a=
!0,b=!0,c=!0,d=!0,e=!0,f=void 0,h=void 0,g=void 0,l=void 0,t=void 0;return{SetAll:function(f){e=d=c=b=a=f},Apply:function(){!f&&m&&(f=m.parentNode);!h&&KeywordInput&&(h=KeywordInput.parentNode.parentNode);if(!g){var C=document.getElementById("downloadInfoList");C&&(g=C.parentNode)}!l&&(C=document.getElementById("balanceInList"))&&(l=C.parentNode);!t&&(C=document.getElementById("youtubeSuggestList"))&&(t=C.parentNode);Class(f,"hidden",c);Class(h,"hidden",b);Class(g,"hidden",d);Class(l,"hidden",a);
Class(t,"hidden",e)},balance:function(b){b&&(a=b);return a},search:function(a){a&&(b=a);return b},sort:function(a){a&&(_sort=a);return _sort},category:function(a){a&&(c=a);return c},progress:function(a){a&&(d=a);return d},youtube:function(a){a&&(e=a);return e}}}(),p,I="";return{Init:function(){y=document.getElementsByName("price");h=document.getElementById("categorySelect");m=document.getElementById("categorySelectContainer");MQL5ProgressController.AddOnProgressEnd(function(a){if(0<MQL5MarketProduct.CurrentProductID()){if(a=
MQL5MarketDataHelper.GetProduct(MQL5MarketProduct.CurrentProductID()))MQL5MarketProduct.FillBuyButtons(a),MQL5MarketProduct.FillProductInfo(a)}else l()},this)},OnParamsChanged:l,SelectPlatform:function(a,b){if(b||A!=a)g(a),l()},OnResize:function(){MQL5MarketRenderer.RecalcPosition()},GetSelectedPlatformFilter:f,SetParams:q,SortProductsBy:function(a){currentLoadedProducts&&currentLoadedProducts.sortBy&&currentLoadedProducts.sortBy(a)},RefreshMyProducts:function(){var a=document.getElementById("refreshMyProducts");
1!=a.disabled&&(a&&(Class(a,"refresh-button_loading"),a.disabled=!0),external.MyProductsRefresh())},MyProductsReady:function(){var a=document.getElementById("refreshMyProducts");a&&(Class(a,"refresh-button_loading",!0),a.disabled=null);MQL5MarketRenderer.EnableProductButtons();c();a=f();"my"!=a&&"favorites"!=a||l()},UpdateMyTab:c,FitTopRight:B,OnFilterChange:function(){I!=KeywordInput.value&&(p&&clearTimeout(p),p=setTimeout(function(){I=KeywordInput.value;l()},300))},RenderMyTab:function(){c()},RenderRegisterLink:function(){var b=
document.getElementById("balanceInList");b.innerText=MQL5MarketLocalization.Get("u_register_mql5");b.title=MQL5MarketLocalization.Get("u_register_mql5_title");b.href="#";b.onclick=a},RenderBallance:function(){var a=document.getElementById("balanceInList");a.innerHTML=0<userLogin.length?MQL5MarketLocalization.Get("u_balance")+":&nbsp;"+external.GetBalance()+"&nbsp;"+MQL5MarketLocalization.Get("p_credits"):"";a.href="#";a.title=MQL5MarketLocalization.Get("l_do_deposit");a.onclick=b},sortChange:function(a){a=
a||window.event;if(a=a.target||a.srcElement)window.sortBy=a.value,l()}}}();var MQL5MarketSimilarProducts=function(){return{Render:function(a,b){if(!("GetRecommendProducts"in external))return"";a=external.GetRecommendProducts(a);var c=[];if(!a)return"";a=jsonParse(a,7);if(!(a&&"products"in a&&a.products.length))return"";var f="";a.products=a.products.sort(function(){return.5-Math.random()});if(0<a.products.length){f+='<div class="similar-list">';for(var d=0,k=a.products.length;d<k;d++){var g=MQL5MarketRenderer.CreateProductLargeBlock(a.products[d],null,!0,!0,b);g&&(f+=g.html,
g.img&&c.push(g.img))}f+="</div>"}setTimeout(function(){window.setImgesAvatarSrcAsync(c);c=[]},10);return f}}}();var MQL5MarketProduct=function(){function a(){clearTimeout(M);M=setTimeout(L.Calc,100)}function b(b){v||(v=MQL5MarketRenderer.ProductWindow(),window.addEventListenerFn(v,"click",function(a){a=a||window.event;var b=a.target||a.srcElement,c=b.className;if(b.disabled||b.getAttribute("disabled"))return!1;c&&(c=c.split(" "),c=c[0]);try{switch(c){case "button":case "button__img":"button__img"===c&&(b=b.parentNode);var d=b.getAttribute("data-product-id"),e=b.getAttribute("data-button-id"),f=b.getAttribute("data-button-type");
e&&MQL5MarketProductController.ButtonClick(e,d,f);break;case "category-link":case "category-icon":var t=b.getAttribute("data-category-id");t||(t=b.parentNode.getAttribute("data-category-id"));t&&(MQL5MarketProductList.SetParams("apps","rating",t),z(!0),a.preventDefault?a.preventDefault():a.returnValue=!1)}}catch(O){errorsConsole.Add(O)}}),MQL5ProgressController.Init("downloadInfoView","downloadInfoList"),NotifyLoginChange(userLogin));window.addEventListenerFn(window,"resize",a);m(b);Class(v,"hidden",
!0);if(b=document.getElementById("productSections"))w=b.offsetWidth;L.Init()}function c(){var a=document.getElementById("loadImg");a&&a.parentNode.removeChild(a);(a=document.getElementById("paymentSystemListBlock"))&&a.parentNode.removeChild(a)}function f(a){var b=document.getElementById("descriptionContent");if(b){if("dataError"in a)return b.innerHTML='<div class="error-block">'+a.dataError+"</div>",!1;b.innerHTML=a.description;a.whats_new&&(b.innerHTML+="<h3>What's new</h3>"+a.whats_new);if((a=
b.getElementsByTagName("a"))&&a.length)for(b=0;b<a.length;b++)a[b].href&&!a[b].onclick&&(a[b].onclick=function(){external.OpenUrl(this.href);return!1})}}function d(a){var b=document.getElementById("productScreenshots"),c=document.getElementById("productTabScreenshots");b.innerHTML="";if(a.screenshots&&0!==a.screenshots.length){Class(c,"hidden",!0);var d=[];c=0;for(var e=a.screenshots.length;c<e;c++){var f=document.createElement("img"),t=GetHashIdByUrl(a.screenshots[c].url);f.className="product__screenshot "+
t;b.appendChild(f);d.push({src:a.screenshots[c].url,imageName:t})}0<d.length&&setTimeout(function(){setImgesSrcAsync(d);d=[]},10)}else Class(c,"hidden")}function k(){var a=document.getElementById("messageBox");a&&a.parentNode.removeChild(a)}function g(a,b,c){var d=document.createElement("div");d.className="product-info-line";d.innerHTML='<span class="product-info-line__label">'+a+':</span><span class="product-info-line__value"'+(c?' title="'+c+'" ':"")+">"+b+"</span>";return d}function q(a){var b=
document.getElementById("productInfoContainer"),c=MQL5MarketDataHelper.GetCategories(appsPlatform);b.innerHTML="";a.language&&b.appendChild(g(MQL5MarketLocalization.Get("p_language"),MQL5MarketLocalization.Get("lang_"+a.language)));c["id"+a.category_id]&&(c="<a class='category-link' href='javascript:void();' data-category-id='"+a.category_id+"'><i class=\"category-icon category-icon_"+c["id"+a.category_id].tag+'"></i>'+c["id"+a.category_id].title+"</a>",b.appendChild(g(MQL5MarketLocalization.Get("p_category"),
c)));a.version_name&&6>a.platform&&(c=parseVersionName(a.version_name),b.appendChild(g(MQL5MarketLocalization.Get("p_current_version"),c.major+"."+c.minor)));b.appendChild(g(MQL5MarketLocalization.Get("p_updated"),MQL5MarketDataHelper.UTCToString(a.version_date_published),MQL5MarketDataHelper.UTCToString(a.version_date_published,!0)));a.platform==appsPlatform?b.appendChild(g(MQL5MarketLocalization.Get("p_author"),MQL5MarketDataHelper.GetUserLink(a.author_login,MQL5MarketLocalization.GetDefaultLanguageMql5(),
a.author_full_name,!0),a.author_full_name)):b.appendChild(g(MQL5MarketLocalization.Get("p_publisher"),MQL5MarketDataHelper.GetUserLink(a.author_login,MQL5MarketLocalization.GetDefaultLanguageMql5(),a.author_full_name,!0),a.author_full_name));c=GetMaxPrice(a);var d=document.getElementById("productActivations");.001<=c?(d.innerHTML=a.max_activations+" "+MQL5MarketLocalization.Get("p_activations_"+GetCounterSuffix(a.max_activations)),d.title=MQL5MarketLocalization.Get("p_max_activations_tooltip"),d.style.cursor=
"help",Class(d,"hidden",!0)):Class(d,"hidden");c=document.getElementById("productViewButtons");MQL5MarketRenderer.DrawProductButtonsBlock(a,c,!1,!1,!0);c.style.display=c.innerHTML.length?"block":"none";c=document.createElement("div");c.className="view-on-site-link-container";b.appendChild(c);b=document.createElement("a");b.setAttribute("href","javascript:external.OpenUrl('https://www.mql5.com/"+MQL5MarketLocalization.GetDefaultLanguageMql5()+"/market/product/"+a.id+"')");b.innerHTML=MQL5MarketLocalization.Get("p_view_on_site")+
'<i class="icon-blank"></i>';b.className="view-on-site-link";c.appendChild(b)}function l(a){MQL5MarketRenderer.DrawProductButtonsBlock(a,document.getElementById("productButtonsHolder"),!1,!0)}function B(a){a||(a=G);try{return external.IsInFavorites(a)?!0:!1}catch(C){errorsConsole.Add(C)}}function y(a){var b=document.getElementById("productTabFavorites"),c=B(a.id);b.innerHTML=c?'<i class="in-favorites"></i>'+MQL5MarketLocalization.Get("p_remove_from_favorites"):'<i class="not-in-favorites"></i>'+MQL5MarketLocalization.Get("p_add_to_favorites");
b.title=c?MQL5MarketLocalization.Get("p_remove_from_favorites"):MQL5MarketLocalization.Get("u_favorites_title");Class(b,"is-in-favorites",!c);b.onclick=function(){MQL5MarketProductController.FavoritesActionInTable(a.id,!c);y(a)}}function h(a){for(var b=[document.getElementById("productDescription"),document.getElementById("productScreenshots"),document.getElementById("productReviews")],c=0,d=b.length;c<d;c++)b[c].getAttribute("data-name")===a?Class(b[c],"hidden",!0):Class(b[c],"hidden");var e=[document.getElementById("productTabDescription"),
document.getElementById("productTabScreenshots"),document.getElementById("productTabReviews")];c=0;for(d=e.length;c<d;c++)b[c].getAttribute("data-name")===a?Class(e[c],"tabs-container__item_selected"):Class(e[c],"tabs-container__item_selected",!0);document.getElementById("productLogoContainer").scrollIntoView(!0)}function m(a){c();var b=MQL5MarketDataHelper.GetProduct(a);if(!b||null==b)return!1;var e=document.getElementById("paymentSystemListBlock");e&&e.parentNode.removeChild(e);k();G=a;a=document.getElementById("productLogoImage");
"logo_url"in b?(a.src="",setImgesSrcAsync([{image:a,src:b.logo_url}])):a.src="";f(b);if("dataError"in b)return!1;d(b);a=document.getElementById("productReviews");a.innerHTML="";var g=MQL5MarketDataHelper.GetReviews(b.id,0,1E3);if(g&&!("dataError"in g)){e=g.count;g=g.reviews;var t=document.getElementById("productTabReviews");g&&0!==g.length?(Class(t,"hidden",!0),document.getElementById("productTabReviewsLabel").innerHTML=MQL5MarketLocalization.Get("p_reviews")+' (<span id="productReviewsCount">'+e+
"</span>)",MQL5MarketRenderer.Reviews(a,g)):Class(t,"hidden")}a=document.getElementById("productPeriods");g=document.getElementById("productVat");a.innerHTML="";Class(a,"hidden");e=document.getElementById("productPrice");Class(g,"hidden");g=GetMaxPrice(b);t=b.price;if(b.periods&&b.periods.length)for(var m=b.periods.length-1;0<=m;m--)if(0==parseFloat(b.periods[m].period)){t=b.periods[m].price;break}.01<=t?(Class(e,"price"),Class(e,"price-free",!0),e.innerHTML=window.priceToString(t)+" "+MQL5MarketLocalization.Get("p_credits")):
0==g?(Class(e,"price",!0),Class(e,"price-free"),e.innerHTML="Free"):(Class(e,"price-free",!0),Class(e,"price",!0),e.innerHTML="",Class(a,"hidden"));q(b);l(b);if(a=document.getElementById("productNameInDescription"))a.innerHTML=(b.group?b.group+" ":"")+b.name,document.getElementById("productRating").className="product-window__rating__value product-window__rating__value_"+MQL5MarketRenderer.GetRatingClass(b.rating),document.getElementById("productCategoryInDescription").innerHTML=MQL5MarketLocalization.Get("p_category_"+
b.category_id);y(b);h("description");Class(v,"hidden",!0);document.getElementById("productLogoContainer").scrollIntoView(!0);b=(b.group?b.group+" ":"")+b.name;40<b.length&&(b=b.substring(0,35)+"...");document.getElementById("productTabDescriptionLabel").innerHTML=b;return!0}function z(b){if(document.getElementById("paymentSystemListBlock")&&(c(),!b)||document.getElementById("messageBox")&&(c(),k(),!b))return!0;Class(v,"hidden");G=0;r&&"favorites"==MQL5MarketProductList.GetSelectedPlatformFilter()&&
MQL5MarketProductList.OnParamsChanged();r=!1;window.removeEventListenerFn(window,"resize",a)}function n(a){a&&a.length?F=a:a=F;MQL5ProgressController.Enable("downloadInfoView");try{var d=jsonParse(a,3)}catch(D){errorsConsole.Add(D)}a=MQL5MarketDataHelper.GetProduct(d.id);if(7==d.state||9==d.state)return b(d.id),external.ActivationProduct(d.id,void 0==d.period?0:d.period),!1;var e="buy";100==d.type&&(e="subscribe",void 0!=d.is_renew&&1==d.is_renew&&(e="renew"));var f="";switch(e){case "buy":f="buy";
break;case "subscribe":case "reinstall_subscribe":f="subscribe";break;case "renew":f="renew"}G=d.id;f&&""!=f&&b(d.id);c();k();external.GetAuthorization();e=document.getElementById("rightBlockProduct");if(!e)return!1;c();MQL5ProgressController.Disable("downloadInfoView");u.RenderPaymentSystem(e,a,"1",f,d.period,d);return!1}function x(){var a=document.getElementsByName("periodbuy");if(a)for(var b=a.length,c=0;c<b;c++)if(a[c]&&"value"in a[c]&&a[c].checked)return a[c].value;return 0}function A(a){var b=
document.getElementsByName("periodbuy");if(b)for(var c=b.length,d=0;d<c;d++)if(b[d]&&"value"in b[d]&&b[d].checked)for(var e=b[d].value,f=a.periods.length-1;0<=f;f--){var g=a.periods[f];if(g.period==e)return g.price}return a.price}function E(a,b,c){if(a==MQL5MarketProduct.CurrentProductID()){var d=document.getElementById("messProgressbarProgress");d&&(d.style.width=Math.max(0,Math.min(b,100))+"%");101==b?I(c,a):100==b&&window.setTimeout(function(){var b=document.getElementById("messProgressbar");b&&
Class(b,"hidden");if(b=document.getElementById("messageProgress")){var c="<div class='success-download'><i class='icon-success-downloaded'></i> <span class='success-download__text'>"+MQL5MarketLocalization.Get("p_downloaded")+"</span></div>";document.getElementById("bottomStatusDownload")&&(bottom_status_download.innerHTML=MQL5MarketLocalization.Get("p_status_downloaded"));var d=MQL5MarketDataHelper.GetProduct(a);if(d){var e=GetMaxPrice(d),f=new FlagsWrapper(d.my_type),g=d.my_purchase_type==PurchaseType.DOWNLOAD_RENT&&
f.AccountBuy,h="";if(d.my_purchase_type==PurchaseType.DOWNLOAD_BUY&&f.AccountBuy||g)MQL5MarketDataHelper.GetCategories(appsPlatform),d.platform==appsPlatform&&(h=h+'<div class="success-promo">'+('<div class="success-promo__title">'+MQL5MarketLocalization.Get("connect_vps_description")+"</div>"),h+='<a href="javascript:void(false);" onclick="external.Launch('+d.id+')" class="button button_big button_white-bg-green">'+MQL5MarketLocalization.Get("launch")+"</a>",h+='<a href="javascript:void(false);" onclick="external.OpenVps('+
(0<e?1:0)+')" class="button button_big">'+MQL5MarketLocalization.Get("connect_vps")+"</a>",h=h+"</div>"+('<div class="similar-title">'+(0<e?MQL5MarketLocalization.Get("recommend_products"):MQL5MarketLocalization.Get("recommend_products_free"))+":</div>"),h+=MQL5MarketSimilarProducts.Render(d.id,0<e));c+="<div class='success-description'>"+h+"</div>";MQL5MarketProduct.FillProductInfo(d)}b.innerHTML=c}},500)}}function e(){document.getElementById("messProgressbarProgress")}function p(a,b,c){var d=document.createElement("div");
var e=0<a?MQL5MarketDataHelper.GetProduct(a):MQL5MarketDataHelper.GetProduct(G);a="";e&&(a=u.GetProductInfo(e));d.id="messageBox";Class(d,"product-window__message-box");e=parseInt(b.offsetHeight,10);500>e&&(e=500);d.style.display="block";d.innerHTML=a+"<div class='message-error'><h1>"+MQL5MarketLocalization.Get("p_status_payment_failed")+"</h1> <div class='message-error__text'>"+c+"</div></div>";b.appendChild(d);if((b=b.getElementsByTagName("a"))&&b.length)for(c=0;c<b.length;c++)b[c].href&&!b[c].onclick&&
(b[c].onclick=function(){external.OpenUrl(this.href);return!1})}function I(a,b){(b=document.getElementById("messProgressbar"))&&Class(b,"hidden");if(b=document.getElementById("messageProgress"))a="<div class='error-download'><span class='img-info'></span> <span class='error-download__text'>"+(a&&0<a.length?a:MQL5MarketLocalization.Get("p_failed_downloaded"))+"</span></div>",b.innerHTML=a}var v=null,r=!1,G=0,w=0,K=0,u=new MQL5MarketPaymentSystem(MQL5MarketDataHelper),L=function(){function a(){var a=
document.getElementById("topRightInfoView");a&&(K=a.offsetWidth)}function b(){var t=ContentWidth-w-K;if(20>t){if(c&&l)return c=!1,f=l.offsetWidth+5,Class(l,"hidden"),a(),b(),!0;if(d&&k)return d=!1,g=k.offsetWidth+5,Class(k,"hidden"),a(),b(),!0;if(e&&m)return e=!1,h=e.offsetWidth+5,Class(m,"hidden"),a(),b(),!0}else if(!e&&m){if(t>h+20)return e=!0,Class(m,"hidden",!0),a(),b(),!0}else if(!d&&k){if(t>g+20)return d=!0,Class(k,"hidden",!0),a(),b(),!0}else if(!c&&l&&t>f+20)return c=!0,Class(l,"hidden",!0),
a(),b(),!0}var c=!0,d=!0,e=!0,f=0,g=0,h=0,l,k,m;return{Init:function(){e=d=c=!0;Class(l,"hidden",!0);Class(k,"hidden",!0);Class(m,"hidden",!0);l=document.getElementById("toolsButtons");k=document.getElementById("toolsBalance");m=document.getElementById("toolsProgress");a();b()},Calc:b}}(),M,F="{}";return{ShowProduct:b,Redraw:function(){if(G){var a=document.getElementById("paymentSystemListBlock");m(G);a&&n()}},ClosePopup:z,ShowBlock:h,ViewProduct:m,ViewBuyProduct:n,CurrentProductID:function(a){if(a)G=
a;else return G},FavoritesChanged:function(a){if(a)r=a;else return r},CheckKeySubmitForm:function(a){a=a||window.event;if(13==a.keyCode)return(a=document.getElementById("user_password_button"))&&a.click(),!1},PurchaseLog:function(a,b){var c=MQL5MarketDataHelper.GetProduct(a);c&&external.PurchasedLog(0,b,a,x(),A(c))},CheckPasswordActivation:function(a,b){var c=document.getElementById("user_password");if(!c&&""!=user_login)return!1;if(""!=userLogin&&!external.CheckPassword(c.value)){if(a=document.getElementById("user_error"))a.innerHTML=
MQL5MarketLocalization.Get("error_user_password"),a.style.display="";return!1}MQL5ProgressController.Disable("downloadInfoView");external.ActivationProduct(a,b)},GrayBackground:function(a){var b=document.getElementById("paymentSystemList"),c=document.createElement("div");c.className="payments__disabled";c.id="paymentsDisabled";b&&b.appendChild(c);if(b=document.getElementById("paymentSystemListBlock")){c=b.getElementsByTagName("a");for(var d=0;d<c.length;d++)"paymetns__img-pay"!=c[d].className&&"paymetn-button__img"!=
c[d].className||c[d].setAttribute("disabled","disabled");c=document.createElement("div");c.className="loading-img-page";c.id="loadImgPay";c.style.position="absolute";c.style.margin="0 auto";c.style.padding="0px 0px";c.style.opacity=1;c.style.zIndex=99;if(a=document.getElementById(a))d=a.offsetLeft,c.style.top=a.offsetTop+16+"px",c.style.left=d+60+"px",c.innerHTML="<div><img src='loading.gif?r="+Math.random(2,9999999)+"' id='loadingImg' /></div>",b.appendChild(c)}},GetUrlPurchase:function(a,b){(b=
document.getElementById("agreementRenew"))&&(a+="&agreementrenew="+(b.checked?1:0));if(b=document.getElementsByName("periodbuy"))for(var c=b.length,d=0;d<c;d++)if(b[d]&&"value"in b[d]&&b[d].checked){a+="&period="+b[d].value;break}return a},ClosePayWindow:function(){var a=document.getElementById("loadImgPay");a&&a.parentNode.removeChild(a);if(a=document.getElementById("paymentSystemList")){for(var b=a.getElementsByTagName("a"),c=0;c<b.length;c++)"paymetns__img-pay"!=b[c].className&&"paymetn-button__img"!=
b[c].className||b[c].removeAttribute("disabled");(b=document.getElementById("paymentsDisabled"))&&a.removeChild(b)}},MarketBuyFailed:function(a,b){var d=document.getElementById("rightBlockProduct");if(!d)return!1;c();p(a,d,b)},MarketBuyFinish:function(a,b){var d=document.getElementById("rightBlockProduct");if(!d)return!1;c();document.createElement("div").id="progressMarketBuy";b&&(b=b.replace(/\\\"/g,'"'));var f=document.createElement("div");a=0<a?MQL5MarketDataHelper.GetProduct(a):MQL5MarketDataHelper.GetProduct(MQL5MarketProduct.CurrentProductID());
var g="";a&&(g=u.GetProductInfo(a));f.id="messageBox";Class(f,"product-window__message-box");parseInt(d.offsetHeight,10);f.style.display="block";f.innerHTML=g+"<div class='product-window__message-text'>"+b+" <div id='messageProgress' class='message-progress'><div id='messProgressbar' class='message-progress__wrapper'><span id='messProgressbarProgress'  class='message-progress__value'></span></div></div></div>";d.appendChild(f);MQL5ProgressController.AddTemp("messProgressbar",!0,E,e)},RenderRegisterLink:function(){var a=
document.getElementById("balanceInProduct"),b=MQL5MarketLocalization.Get("u_register_mql5"),c=MQL5MarketLocalization.Get("u_register_mql5_title");if(!a)return!1;a.innerHTML=b;a.title=c;a.href="#";a.onclick=function(){external.GetOptions();return!1}},RenderBallance:function(){var a=document.getElementById("balanceInProduct"),b=0<userLogin.length?MQL5MarketLocalization.Get("u_balance")+":&nbsp;"+external.GetBalance()+"&nbsp;"+MQL5MarketLocalization.Get("p_credits"):"";if(!a)return!1;a.innerHTML=b;balance_href=
"javascript:external.OpenUrl('https://www.mql5.com/"+MQL5MarketLocalization.GetDefaultLanguageMql5()+"/users/"+userLogin+"/accounting/choosein')";a.href=balance_href;a.title=MQL5MarketLocalization.Get("l_do_deposit");a.onclick=null},FillBuyButtons:l,FillProductInfo:q,DeleteDivMessage:k,DeleteDivPaylist:c,ViewDownloadSuccess:function(a){var b=document.getElementById("descriptionContent");if(!b)return!1;if(a=MQL5MarketDataHelper.GetProduct(a)){var c=GetMaxPrice(a);if(a.my_purchase_type==PurchaseType.DOWNLOAD_DEMO||
a.my_purchase_type==PurchaseType.DOWNLOAD_FREE){var d=""+('<h1 class="product-window__success-title"><i class="icon-success"></i>'+MQL5MarketLocalization.Get("installed_title").replace("{0}",a.name)+"</h1>");a.platform==appsPlatform&&(d=d+'<div class="success-promo">'+('<div class="success-promo__title">'+MQL5MarketLocalization.Get("connect_vps_description")+"</div>"),d+='<a href="javascript:void(false);" onclick="external.OpenVps('+(0<c?1:0)+')" class="button button_big">'+MQL5MarketLocalization.Get("connect_vps")+
"</a>",d=d+"</div>"+('<div class="similar-title">'+(0<c?MQL5MarketLocalization.Get("recommend_products"):MQL5MarketLocalization.Get("recommend_products_free"))+":</div>"),d+=MQL5MarketSimilarProducts.Render(a.id,0<c));b.innerHTML=d}}},ViewDownloadFail:function(a,b){var c=document.getElementById("descriptionContent");if(!c)return!1;MQL5MarketDataHelper.GetProduct(a);c.innerHTML="<div class='message-error'><h1>"+(b&&0<b.length?b:MQL5MarketLocalization.Get("p_failed_downloaded"))+"</h1> </div>"}}}();var MQL5ProgressController=function(){function a(a,b,c){var d=!0,f=this;this.DI=document.getElementById(a);if(!this.DI)return!1;Class(this.DI,"hidden");b||(Class(f.DI,"downloading-info"),f.DI.innerHTML="<span id='"+a+"_title' class='downloading-info__title'>&nbsp;</span><span id='"+a+"_progress' class='downloading-info__progress'><span class='downloading-info__progress__value'></span></span>");var g=document.getElementById(a+"_title"),l=document.getElementById(a+"_progress");this.Enable=function(){d=
!0};this.Disable=function(){d=!1};this.SetProgress=function(a,b,e){d&&(f.DI?c?(f.Show(),c(a,b,e)):0==q&&(Class(f.DI,"hidden",!0),g&&e.length?g.innerHTML=e:g&&(g.innerHTML="&nbsp;"),l.firstChild.style.width=Math.max(0,Math.min(b,100))+"%"):f.Remove())};this.SetEndProgressStatusTitle=function(a){d&&(g&&a.length?g.innerHTML=a:g&&(g.innerHTML="&nbsp;"))};var q=!0;this.Hide=function(){Class(f.DI,"hidden");q=!0};this.Show=function(){d&&k&&(Class(f.DI,"hidden",!0),q=!1)}}function b(a){for(var b=-1,c=0;c<
d.length;c++)if(d[c].DI.id==a){b=c;break}0<=b&&d.splice(b,1)}function c(a,b){for(var c=-1,f=0;f<d.length;f++)if(d[f].DI.id==a){c=f;break}0<=c&&(b?d[c].Enable():d[c].Disable())}function f(a,b){q.push({handler:a,args:b})}var d=[],k=!1,g=!1,q=[];return{AddOnProgressEnd:f,OnProgressEnd:function(){for(var a=0;a<q.length;a++)q[a].handler.call(this,q[a].args)},EndEvents:function(){return q},Disable:function(a){c(a,!1)},Enable:function(a){c(a,!0)},SetEnabled:c,Remove:b,AddTemp:function(c,g,k,h){g=new a(c,
g,k);d.push(g);f(b,c);h&&f(h)},Init:function(){for(var b=0;b<arguments.length;b++)d.push(new a(arguments[b]))},FitProgressBar:function(){for(var a=0;a<d.length;a++)d[a].Show()},ProgressBar:a,InProgress:function(a){if(!0===a||!1===a)g=a;return g},IsActive:function(a){if(!0===a||!1===a)k=a;else return k},ActiveBars:function(a){if(a)d=a;else return d}}}();var MQL5MarketProductController=function(){return{ProductNeedUpdate:function(a){if(!a||!a.my_version_name_file||0==a.my_version_name_file.length)return!1;var b=a.version_name;v1=parseVersionName(a.my_version_name_file);v2=parseVersionName(b);return 0<=1E4*(v1.major-v2.major)+(v1.minor-v2.minor)?!1:!0},IsInFavorites:function(a){a||(a=MQL5MarketProduct.CurrentProductID());try{return external.IsInFavorites(a)?!0:!1}catch(b){errorsConsole.Add(b)}},ButtonClick:function(a,b,c){if("open"===c)b&&external.ShowProduct(b);
else{MQL5ProgressController.Enable("downloadInfoView");a=document.getElementById(a);if(!a)return!1;external.Mql5Buy(a.getAttribute("buyUrl"))}return!1},FavoritesActionInTable:function(a,b){if(b){a||(a=MQL5MarketProduct.CurrentProductID());try{external.FavoriteAdd(a)}catch(c){errorsConsole.Add(c)}}else{(b=a)||(b=MQL5MarketProduct.CurrentProductID());try{external.FavoriteDelete(b)}catch(c){errorsConsole.Add(c)}"favorites"==MQL5MarketProductList.GetSelectedPlatformFilter()&&(a=document.getElementById("product_"+
a))&&(a.style.display="none")}0<MQL5MarketProduct.CurrentProductID()&&MQL5MarketProduct.FavoritesChanged(!0)},DisableProductButtons:function(){for(var a=document.getElementsByTagName("a"),b=0;b<a.length;b++){var c=a[b];c.id&&0==c.id.indexOf("button")&&(c._onmousedown=c.onmousedown,c.onmousedown=null,c._onmouseup=c.onmouseup,c.onmouseup=null,c._onmouseout=c.onmouseout,c.onmouseout=null,"javascript:void();"!=c.href&&(c._href=c.href,c.href="javascript:void();"),c.disabled=!0,c.setAttribute("disabled",
"disabled"))}},EnableProductButtons:function(a){a=document.getElementsByTagName("a");for(var b=0;b<a.length;b++){var c=a[b];c.id&&0==c.id.indexOf("button")&&(c._onmousedown&&(c.onmousedown=c._onmousedown),c._onmouseup&&(c.onmouseup=c._onmouseup),c._onmouseout&&(c.onmouseout=c._onmouseout),c._href&&(c.href=c._href),c.disabled=!1,c.removeAttribute("disabled"))}}}}();var production=!0,isTerminal=!0,userLogin="",appsPlatform=5,magazinesPlatform=7,headerWidth=0,booksPlatform=8,buyProtocol="",nodeProductContainer,MainProductsContainer,marketInit=!1,KeywordInput,ContentWidth,ContentHeight,ContentScrollHeight,productWidth=120,productHeight=170,vat=null,paramsChangeStarted=!1,countProductsInLine,imagesToSetAsync=[],collectionsList=[],marketProductViewStart=void 0,GlobalCounter;window.sortBy="rating";
var ieVersion=function(){var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");do b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e";while(c[0]);return 4<a?a:void 0}(),ieOlderThan9=ieVersion&&9>ieVersion;function NotifyProductChange(){MQL5MarketProductList.OnParamsChanged();MQL5MarketProduct.Redraw()}function NotifyMyProducts(){return MQL5MarketProductList.MyProductsReady()}
function NotifyLoginChange(a){if("GetVat"in external){var b=parseFloat(external.GetVat());vat!==b&&(vat=b,NotifyProductChange())}userLogin=a;!0===isTerminal&&(MQL5MarketProductList.RenderMyTab(),a?(MQL5MarketProductList.RenderBallance(),MQL5MarketProduct.RenderBallance()):(MQL5MarketProductList.RenderRegisterLink(),MQL5MarketProduct.RenderRegisterLink()),document.getElementById("paymentSystemListBlock")&&MQL5MarketProduct.ViewBuyProduct())}
function ShowProduct(a){try{return MQL5MarketProduct.ShowProduct(a)}catch(b){errorsConsole.Add(b)}}function MarketBuyFinish(a,b){try{return MQL5MarketProduct.MarketBuyFinish(a,b)}catch(c){errorsConsole.Add(c)}}function MarketBuyFailed(a,b){try{return MQL5MarketProduct.MarketBuyFailed(a,b)}catch(c){errorsConsole.Add(c)}}function GetPriceWithVat(a){return vat&&0<vat?a+vat/100*a:a}
function ViewBuyProduct(a){try{return marketInit?MQL5MarketProduct.ViewBuyProduct(a):(marketProductViewStart=a,!1)}catch(b){errorsConsole.Add(b)}}function NotifyMyProducts(){return MQL5MarketProductList.MyProductsReady()}function ClosePayWindow(){try{return MQL5MarketProduct.ClosePayWindow()}catch(a){errorsConsole.Add(a)}}function NotifyGetPaymentSystemsHtml(a){var b=document.getElementById("paymentList");b&&a&&(b.innerHTML=a)}
function NotifyProgressProduct(a,b,c){try{if(progressNotifications[progressNotifications.length]=arguments,c=c?TrimString(c):"",MQL5MarketProductController.DisableProductButtons(a),100<=b){MQL5ProgressController.InProgress(!1);for(var f=0;f<MQL5ProgressController.ActiveBars().length;f++)MQL5ProgressController.ActiveBars()[f].SetProgress(a,b,c);setTimeout(function(){for(var a=0;a<MQL5ProgressController.ActiveBars().length;a++)MQL5ProgressController.ActiveBars()[a].SetEndProgressStatusTitle(c&&0<c.length?
c:MQL5MarketLocalization.Get("p_downloaded"))},500);setTimeout(function(){for(var a=0;a<MQL5ProgressController.ActiveBars().length;a++)MQL5ProgressController.IsActive(!1),MQL5ProgressController.ActiveBars()[a].Hide()},5E3);MQL5ProgressController.OnProgressEnd();MQL5MarketProductController.EnableProductButtons(a);100==b?MQL5MarketProduct.ViewDownloadSuccess(a):MQL5MarketProduct.ViewDownloadFail(a,c)}else for(MQL5ProgressController.IsActive(!0),MQL5ProgressController.InProgress(!0),MQL5ProgressController.FitProgressBar(),
f=0;f<MQL5ProgressController.ActiveBars().length;f++)MQL5ProgressController.ActiveBars()[f].SetProgress(a,b,c)}catch(d){errorsConsole.Add(d)}}var progressNotifications=[];
function addYoutubeSuggest(){var a=document.getElementById("youtubeSuggestList");if(!a)return!1;var b=MQL5MarketLocalization.Get("l_youtube_suggest"),c=document.createElement("span");Class(c,"youtube-suggest-list__link");window.addEventListenerFn(c,"click",function(){external.OpenUrl(videoUrls.GetUrl("market_list"))});c.setAttribute("title",MQL5MarketLocalization.Get("l_youtube_suggest_title"));c.innerText=b;a.appendChild(c)}
function dropDown(a){var b=document.getElementById(a);if(b){Class(b,"custom-select");var c=document.createElement("div");c.className="custom-select";b.parentNode.insertBefore(c,b);c.appendChild(b);var f=b[b.selectedIndex]&&b[b.selectedIndex].innerHTML||b.title;c=document.createElement("span");c.className="custom-select__block";var d=document.createElement("span");d.className="custom-select__value";d.innerText=f;d.setAttribute("id",a+"_text");c.appendChild(d);b.parentNode.appendChild(c);window.addEventListenerFn(b,
"change",function(){val=this[this.selectedIndex].innerText;document.getElementById(a+"_text").innerText=val});b.refreshDropDown=function(){!this.selectedIndex&&0!=this.selectedIndex||0>this.selectedIndex||!this[this.selectedIndex]||(val=this[this.selectedIndex].innerText,document.getElementById(a+"_text").innerText=val)};b=document.createElement("span");b.className="custom-select__button";c.appendChild(b)}}
function recalc(){ContentHeight=nodeProductContainer.offsetHeight;ContentWidth=MainProductsContainer.clientWidth;ContentScrollHeight=MainProductsContainer.scrollHeight;countProductsInLine=Math.floor(ContentWidth/productWidth);headerWidth=countProductsInLine*productWidth-5}
function initMarketPage(){"GetVat"in external&&(vat=parseFloat(external.GetVat()));KeywordInput=document.getElementById("keywordInput");MainProductsContainer=document.getElementById("container");nodeProductContainer=document.getElementById("productContainerBox");MQL5MarketProductList.Init();production=external.GetRelease();external.GetPlatform&&(appsPlatform=external.GetPlatform());buyProtocol="mql"+appsPlatform+"buy://";if(isTerminal=external.IsTerminal())(userLogin=external.GetLogin())||(userLogin=
"");recalc();window.addEventListenerFn(MainProductsContainer,"click",function(a){a=a||window.event;a=a.target||a.srcElement;var b=a.className;if(a.disabled||a.getAttribute("disabled"))return!1;b&&(b=b.split(" "),b=b[0]);var c=void 0;try{switch(b){case "product":case "product__name":case "product__price":case "product__logo":case "product__logo-img":case "product__details":for(;a.parentNode&&"product"!==b;)a=a.parentNode,b=a.className;(c=a.getAttribute("data-product-id"))&&MQL5MarketProduct.ShowProduct(c);
break;case "products-table__name":case "products-table__category":case "products-table__price":case "products-table__date":var k=a.getAttribute("data-name");k&&MQL5MarketProductList.SortProductsBy(k);break;case "products-table__category__link":(c=a.getAttribute("data-product-id"))&&external.ShowProduct(c);break;case "in-favorites":c=a.getAttribute("data-product-id");inFavorites=a.getAttribute("data-infav");c&&inFavorites&&(inFavorites="false"!==inFavorites,MQL5MarketProductController.FavoritesActionInTable(c,
inFavorites));break;case "button":case "button__img":"button__img"===b&&(a=a.parentNode);if(a.disabled||a.getAttribute("disabled"))return!1;c=a.getAttribute("data-product-id");buttonID=a.getAttribute("data-button-id");buttonType=a.getAttribute("data-button-type");buttonID&&MQL5MarketProductController.ButtonClick(buttonID,c,buttonType);break;default:(c=a.getAttribute("data-product-id"))&&MQL5MarketProduct.ShowProduct(c)}}catch(g){errorsConsole.Add(g)}});var a=document.getElementById("section_favorites");
a&&window.addEventListenerFn(a,"click",function(){MQL5MarketProductList.SelectPlatform("favorites")});(a=document.getElementById("section_my"))&&window.addEventListenerFn(a,"click",function(){MQL5MarketProductList.SelectPlatform("my")});(a=document.getElementById("categorySelect"))&&window.addEventListenerFn(a,"change",function(){MQL5MarketProductList.OnParamsChanged()});if(a=document.getElementById("searchForm"))window.addEventListenerFn(a,"submit",function(a){a=a||window.event;MQL5MarketProductList.OnFilterChange();
a.preventDefault&&a.preventDefault();return!1}),window.addEventListenerFn(a,"click",function(a){a=a||window.event;MQL5MarketProductList.OnFilterChange();a.preventDefault&&a.preventDefault();return!1});var b;KeywordInput&&(window.addEventListenerFn(KeywordInput,"keyup",function(){clearTimeout(b);b=setTimeout(function(){MQL5MarketProductList.OnFilterChange()},300)}),window.addEventListenerFn(KeywordInput,"change",function(){MQL5MarketProductList.OnFilterChange()}));(a=document.getElementById("platformFavoritesLabel"))&&
a.appendChild(document.createTextNode(MQL5MarketLocalization.Get("l_favorites")));window.addEventListenerFn(window,"resize",function(){MQL5MarketProductList.OnResize()});!0===isTerminal&&(MQL5MarketProductList.UpdateMyTab(),userLogin?MQL5MarketProductList.RenderBallance():MQL5MarketProductList.RenderRegisterLink());MQL5MarketProductList.OnParamsChanged();dropDown("categorySelect");marketInit=!0;marketProductViewStart&&ViewBuyProduct(marketProductViewStart)}
function fixImg(){var a="attent.png background-payment.png back_arrow.png blank.png categories-small.png downloaded_success.png download_failed.png favorites-gold-hover.png favorites-gold.png favorites-gray-hover.png favorites-gray.png free.png get-product-arrow.png icon-refresh.png ico_trusted.png loading.gif market_search.png market_youtube.png market_youtube_inline.png progress_gradient.png progress_gray.png progress_green.png rating_big.png rating_small.png arrow-down.png arrow-down_2x.png selectButton.png".split(" "),b=
document.createElement("div");b.className="box-images";for(var c=0,f=a.length;c<f;c++){var d=document.createElement("img");d.setAttribute("src",a[c]);d.style.backgroundImage="url("+a[c]+")";b.appendChild(d);window.addEventListenerFn(d,"load",function(a){a=a||window.event;(a.target||a.srcElement).style.display="none"});d=null}document.body.appendChild(b)}
window.onload=function(){try{fixImg(),MQL5MarketLocalization.Translates=MQL5MarketLocalization.getTranslates(),MQL5MarketLocalization.getTranslates=void 0,addYoutubeSuggest(),initMarketPage()}catch(a){errorsConsole.Add(a)}};
